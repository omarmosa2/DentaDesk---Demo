import{j as e}from"./ui-cacc1eea.js";import{g as t,c as n,r,b as a,d as s}from"./vendor-696af5bd.js";import{_ as i,t as o}from"./defineProperty-1a4785df.js";import{_ as l,h as c,i as u,j as d,k as f,l as h,m,t as p,n as v,o as g,p as y,q as w,r as b,s as x,u as _,v as D,w as S,x as k,y as N,z as E,D as M,E as O,F as j,G as T,H as R,I as C,J as P,K as Y,M as A,N as L}from"./charts-b4389b44.js";import{a as W}from"./pdf-991f41f6.js";import{aj as z,u as F,M as H,ag as I,I as U,S as V,m as G,n as q,o as B,p as K,b2 as Z,B as $,b3 as X,w as J,Z as Q,a1 as ee,D as te,f as ne,g as re,h as ae,F as se,i as ie,U as oe,$ as le,x as ce,ae as ue,af as de,c as fe,b as he,C as me,l as pe,ah as ve,j as ge,k as ye,v as we,r as be,aJ as xe,b4 as _e,b5 as De}from"./index-3a8dc84c.js";import{D as Se,a as ke,b as Ne,c as Ee,d as Me}from"./dropdown-menu-0651433f.js";import{T as Oe,a as je,b as Te,c as Re}from"./tabs-952e3ebd.js";import{C as Ce,a as Pe,b as Ye}from"./collapsible-d3d2b240.js";import{T as Ae,a as Le,b as We,c as ze,d as Fe,e as He}from"./table-20957d0a.js";import{F as Ie}from"./filter-f006659c.js";import{P as Ue}from"./pen-square-6c634feb.js";import{T as Ve,D as Ge}from"./upload-4df8a268.js";import{a as qe,C as Be}from"./chevrons-right-9b995d31.js";import{C as Ke}from"./chevron-left-343e35ff.js";import{A as Ze,a as $e,b as Xe}from"./arrow-up-832b5917.js";import{n as Je}from"./notificationService-09cb27cc.js";import{E as Qe}from"./exportService-1536567b.js";import{a as et}from"./PatientDetailsModal-ebd37fae.js";import{P as tt}from"./plus-1eab3b5b.js";import"./utils-ec524415.js";import"./index-a46c293c.js";import"./excel-37615a09.js";import"./pdfService-844f6d4e.js";import"./printer-5ab76652.js";import"./file-text-861b9f90.js";import"./phone-a8e6eab2.js";import"./mail-8c3a07ed.js";import"./map-pin-a7696fe0.js";
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=z("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function st(e,t){if(null==e)return{};var n,r,a=l(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function lt(e,t,n){return t&&ot(e.prototype,t),n&&ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}function ut(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ut=function(){return!!e})()}function dt(e,t,n){return t=ct(t),function(e,t){if(t&&("object"==W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(e,ut()?Reflect.construct(t,n||[],ct(e).constructor):t.apply(e,n))}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function ht(e){if(Array.isArray(e))return e}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pt(e,t){if(e){if("string"==typeof e)return mt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}function vt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gt(e,t){return ht(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||pt(e,t)||vt()}function yt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=yt(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function wt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=yt(e))&&(r&&(r+=" "),r+=t);return r}var bt=function(e,t,n,r,a,s,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,s,i,o],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}};const xt=t(bt);var _t=function(){};function Dt(e,t){return void 0!==e[t]}function St(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function kt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Nt(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function Et(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}kt.__suppressDeprecationWarning=!0,Nt.__suppressDeprecationWarning=!0,Et.__suppressDeprecationWarning=!0;var Mt="milliseconds",Ot="seconds",jt="minutes",Tt="hours",Rt="day",Ct="week",Pt="month",Yt="year",At="decade",Lt="century",Wt={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},zt={month:1,year:12,decade:120,century:1200};function Ft(e){return e%4==0&&e%100!=0||e%400==0?29:28}function Ht(e,t,n){switch(e=new Date(e),n){case Mt:case Ot:case jt:case Tt:case Rt:case Ct:return function(e,t){var n=new Date(+e+t);return function(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset();return new Date(+t+(r-n)*Wt.minutes)}(e,n)}(e,t*Wt[n]);case Pt:case Yt:case At:case Lt:return function(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),s=12*n+r+t,i=Math.trunc(s/12),o=s%12,l=Math.min(a,function(e){return[31,Ft(e),31,30,31,30,31,31,30,31,30,31]}(i)[o]),c=new Date(e);return c.setFullYear(i),c.setDate(1),c.setMonth(o),c.setDate(l),c}(e,t*zt[n])}throw new TypeError('Invalid units: "'+n+'"')}function It(e,t,n){return Ht(e,-t,n)}function Ut(e,t,n){switch(e=new Date(e),t){case Lt:case At:case Yt:e=on(e,0);case Pt:e=sn(e,1);case Ct:case Rt:e=rn(e,0);case Tt:e=nn(e,0);case jt:e=tn(e,0);case Ot:e=en(e,0)}return t===At&&(e=It(e,ln(e)%10,"year")),t===Lt&&(e=It(e,ln(e)%100,"year")),t===Ct&&(e=cn(e,0,n)),e}function Vt(e,t,n){switch(e=Ut(e=new Date(e),t,n),t){case Lt:case At:case Yt:case Pt:case Ct:(e=It(e=Ht(e,1,t),1,Rt)).setHours(23,59,59,999);break;case Rt:e.setHours(23,59,59,999);break;case Tt:case jt:case Ot:e=It(e=Ht(e,1,t),1,Mt)}return e}var Gt=dn(function(e,t){return e===t}),qt=dn(function(e,t){return e!==t}),Bt=dn(function(e,t){return e>t}),Kt=dn(function(e,t){return e>=t}),Zt=dn(function(e,t){return e<t}),$t=dn(function(e,t){return e<=t});function Xt(){return new Date(Math.min.apply(Math,arguments))}function Jt(){return new Date(Math.max.apply(Math,arguments))}function Qt(e,t,n,r){return r=r||"day",(!t||Kt(e,t,r))&&(!n||$t(e,n,r))}var en=un("Milliseconds"),tn=un("Seconds"),nn=un("Minutes"),rn=un("Hours"),an=un("Day"),sn=un("Date"),on=un("Month"),ln=un("FullYear");function cn(e,t,n){var r=(an(e)+7-(n||0))%7;return void 0===t?r:Ht(e,t-r,Rt)}function un(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(void 0===r)return n["get"+e]();var a=new Date(n);return a["set"+e](r),t&&a["get"+e]()!=r&&("Hours"===e||r>=t&&a.getHours()-n.getHours()<Math.floor(r/t))&&a["set"+e](r+t),a}}function dn(e){return function(t,n,r){return e(+Ut(t,r),+Ut(n,r))}}const fn=Object.freeze(Object.defineProperty({__proto__:null,add:Ht,century:function(e,t){return void 0===t?ln(Ut(e,Lt)):Ht(e,t+100,Yt)},date:sn,day:an,decade:function(e,t){return void 0===t?ln(Ut(e,At)):Ht(e,t+10,Yt)},diff:function(e,t,n,r){var a,s,i;switch(n){case Mt:case Ot:case jt:case Tt:case Rt:case Ct:a=t.getTime()-e.getTime();break;case Pt:case Yt:case At:case Lt:a=12*(ln(t)-ln(e))+on(t)-on(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Mt:s=1;break;case Ot:s=1e3;break;case jt:s=6e4;break;case Tt:s=36e5;break;case Rt:s=864e5;break;case Ct:s=6048e5;break;case Pt:s=1;break;case Yt:s=12;break;case At:s=120;break;case Lt:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return i=a/s,r?i:Math.round(i)},endOf:Vt,eq:Gt,gt:Bt,gte:Kt,hours:rn,inRange:Qt,lt:Zt,lte:$t,max:Jt,milliseconds:en,min:Xt,minutes:nn,month:on,neq:qt,seconds:tn,startOf:Ut,subtract:It,weekday:cn,year:ln},Symbol.toStringTag,{value:"Module"}));function hn(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function mn(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||hn(e)||pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pn=h,vn=m,gn=p,yn=Math.ceil,wn=Math.max;var bn=function(e,t,n){t=(n?vn(e,t,n):void 0===t)?1:wn(gn(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var a=0,s=0,i=Array(yn(r/t));a<r;)i[s++]=pn(e,a,a+=t);return i};const xn=t(bn);function _n(e){return e&&e.ownerDocument||document}function Dn(e,t){return function(e){var t=_n(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Sn=/([A-Z])/g;var kn=/^ms-/;function Nn(e){return function(e){return e.replace(Sn,"-$1").toLowerCase()}(e).replace(kn,"-ms-")}var En=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Mn(e,t){var n="",r="";if("string"==typeof t)return e.style.getPropertyValue(Nn(t))||Dn(e).getPropertyValue(Nn(t));Object.keys(t).forEach(function(a){var s=t[a];s||0===s?!function(e){return!(!e||!En.test(e))}(a)?n+=Nn(a)+": "+s+";":r+=a+"("+s+") ":e.style.removeProperty(Nn(a))}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function On(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function jn(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function Tn(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(n,r){var a=jn(n);if(void 0===r)return a?a[e]:n[t];a?a.scrollTo(a[e],r):n[t]=r}}const Rn=Tn("pageXOffset"),Cn=Tn("pageYOffset");function Pn(e){var t=_n(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return r&&On(r,e)?(void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),n={top:n.top+Cn(r)-(r.clientTop||0),left:n.left+Rn(r)-(r.clientLeft||0),width:n.width,height:n.height}):n}var Yn=function(e){return!!e&&"offsetParent"in e};function An(e,t){var n,r={top:0,left:0};if("fixed"===Mn(e,"position"))n=e.getBoundingClientRect();else{var a=t||function(e){for(var t=_n(e),n=e&&e.offsetParent;Yn(n)&&"HTML"!==n.nodeName&&"static"===Mn(n,"position");)n=n.offsetParent;return n||t.documentElement}(e);n=Pn(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(a)&&(r=Pn(a));var s=String(Mn(a,"borderTopWidth")||0);r.top+=parseInt(s,10)-Cn(a)||0;var i=String(Mn(a,"borderLeftWidth")||0);r.left+=parseInt(i,10)-Rn(a)||0}var o=String(Mn(e,"marginTop")||0),l=String(Mn(e,"marginLeft")||0);return f({},n,{top:n.top-r.top-(parseInt(o,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const Ln=!("undefined"==typeof window||!window.document||!window.document.createElement);var Wn=(new Date).getTime();var zn="clearTimeout",Fn=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-Wn)),r=setTimeout(e,n);return Wn=t,r},Hn=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};Ln&&["","webkit","moz","o","ms"].some(function(e){var t=Hn(e,"request");return t in window&&(zn=Hn(e,"cancel"),Fn=function(e){return window[t](e)}),!!Fn});var In,Un=function(e){"function"==typeof window[zn]&&window[zn](e)},Vn=Fn;function Gn(e,t){if(!In){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;In=function(e,t){return r.call(e,t)}}return In(e,t)}var qn=Function.prototype.bind.call(Function.prototype.call,[].slice);var Bn=!1,Kn=!1;try{var Zn={get passive(){return Bn=!0},get once(){return Kn=Bn=!0}};Ln&&(window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,!0))}catch(Nd){}function $n(e){const t=function(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e},[e]),t}(e);return r.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function Xn(){return r.useState(null)}function Jn(e){const t=function(){const e=r.useRef(!0),t=r.useRef(()=>e.current);return r.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}();return[e[0],r.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var Qn="top",er="bottom",tr="right",nr="left",rr="auto",ar=[Qn,er,tr,nr],sr="start",ir="end",or="viewport",lr="popper",cr=ar.reduce(function(e,t){return e.concat([t+"-"+sr,t+"-"+ir])},[]),ur=[].concat(ar,[rr]).reduce(function(e,t){return e.concat([t,t+"-"+sr,t+"-"+ir])},[]),dr=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function fr(e){return e.split("-")[0]}function hr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function mr(e){return e instanceof hr(e).Element||e instanceof Element}function pr(e){return e instanceof hr(e).HTMLElement||e instanceof HTMLElement}function vr(e){return"undefined"!=typeof ShadowRoot&&(e instanceof hr(e).ShadowRoot||e instanceof ShadowRoot)}var gr=Math.max,yr=Math.min,wr=Math.round;function br(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xr(){return!/^((?!chrome|android).)*safari/i.test(br())}function _r(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,s=1;t&&pr(e)&&(a=e.offsetWidth>0&&wr(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&wr(r.height)/e.offsetHeight||1);var i=(mr(e)?hr(e):window).visualViewport,o=!xr()&&n,l=(r.left+(o&&i?i.offsetLeft:0))/a,c=(r.top+(o&&i?i.offsetTop:0))/s,u=r.width/a,d=r.height/s;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function Dr(e){var t=_r(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Sr(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&vr(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kr(e){return e?(e.nodeName||"").toLowerCase():null}function Nr(e){return hr(e).getComputedStyle(e)}function Er(e){return["table","td","th"].indexOf(kr(e))>=0}function Mr(e){return((mr(e)?e.ownerDocument:e.document)||window.document).documentElement}function Or(e){return"html"===kr(e)?e:e.assignedSlot||e.parentNode||(vr(e)?e.host:null)||Mr(e)}function jr(e){return pr(e)&&"fixed"!==Nr(e).position?e.offsetParent:null}function Tr(e){for(var t=hr(e),n=jr(e);n&&Er(n)&&"static"===Nr(n).position;)n=jr(n);return n&&("html"===kr(n)||"body"===kr(n)&&"static"===Nr(n).position)?t:n||function(e){var t=/firefox/i.test(br());if(/Trident/i.test(br())&&pr(e)&&"fixed"===Nr(e).position)return null;var n=Or(e);for(vr(n)&&(n=n.host);pr(n)&&["html","body"].indexOf(kr(n))<0;){var r=Nr(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Rr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Cr(e,t,n){return gr(e,yr(t,n))}function Pr(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Yr(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}const Ar={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,o=fr(n.placement),l=Rr(o),c=[nr,tr].indexOf(o)>=0?"height":"width";if(s&&i){var u=function(e,t){return Pr("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Yr(e,ar))}(a.padding,n),d=Dr(s),f="y"===l?Qn:nr,h="y"===l?er:tr,m=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],p=i[l]-n.rects.reference[l],v=Tr(s),g=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=m/2-p/2,w=u[f],b=g-d[c]-u[h],x=g/2-d[c]/2+y,_=Cr(w,x,b),D=l;n.modifiersData[r]=((t={})[D]=_,t.centerOffset=_-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Sr(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lr(e){return e.split("-")[1]}var Wr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zr(e){var t,n=e.popper,r=e.popperRect,a=e.placement,s=e.variation,i=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=i.x,h=void 0===f?0:f,m=i.y,p=void 0===m?0:m,v="function"==typeof u?u({x:h,y:p}):{x:h,y:p};h=v.x,p=v.y;var g=i.hasOwnProperty("x"),y=i.hasOwnProperty("y"),w=nr,b=Qn,x=window;if(c){var _=Tr(n),D="clientHeight",S="clientWidth";if(_===hr(n)&&"static"!==Nr(_=Mr(n)).position&&"absolute"===o&&(D="scrollHeight",S="scrollWidth"),a===Qn||(a===nr||a===tr)&&s===ir)b=er,p-=(d&&_===x&&x.visualViewport?x.visualViewport.height:_[D])-r.height,p*=l?1:-1;if(a===nr||(a===Qn||a===er)&&s===ir)w=tr,h-=(d&&_===x&&x.visualViewport?x.visualViewport.width:_[S])-r.width,h*=l?1:-1}var k,N=Object.assign({position:o},c&&Wr),E=!0===u?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:wr(n*a)/a||0,y:wr(r*a)/a||0}}({x:h,y:p},hr(n)):{x:h,y:p};return h=E.x,p=E.y,l?Object.assign({},N,((k={})[b]=y?"0":"",k[w]=g?"0":"",k.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",k)):Object.assign({},N,((t={})[b]=y?p+"px":"",t[w]=g?h+"px":"",t.transform="",t))}const Fr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,s=n.adaptive,i=void 0===s||s,o=n.roundOffsets,l=void 0===o||o,c={placement:fr(t.placement),variation:Lr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,zr(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,zr(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Hr={passive:!0};const Ir={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,s=void 0===a||a,i=r.resize,o=void 0===i||i,l=hr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(e){e.addEventListener("scroll",n.update,Hr)}),o&&l.addEventListener("resize",n.update,Hr),function(){s&&c.forEach(function(e){e.removeEventListener("scroll",n.update,Hr)}),o&&l.removeEventListener("resize",n.update,Hr)}},data:{}};var Ur={left:"right",right:"left",bottom:"top",top:"bottom"};function Vr(e){return e.replace(/left|right|bottom|top/g,function(e){return Ur[e]})}var Gr={start:"end",end:"start"};function qr(e){return e.replace(/start|end/g,function(e){return Gr[e]})}function Br(e){var t=hr(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Kr(e){return _r(Mr(e)).left+Br(e).scrollLeft}function Zr(e){var t=Nr(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function $r(e){return["html","body","#document"].indexOf(kr(e))>=0?e.ownerDocument.body:pr(e)&&Zr(e)?e:$r(Or(e))}function Xr(e,t){var n;void 0===t&&(t=[]);var r=$r(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),s=hr(r),i=a?[s].concat(s.visualViewport||[],Zr(r)?r:[]):r,o=t.concat(i);return a?o:o.concat(Xr(Or(i)))}function Jr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Qr(e,t,n){return t===or?Jr(function(e,t){var n=hr(e),r=Mr(e),a=n.visualViewport,s=r.clientWidth,i=r.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;var c=xr();(c||!c&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o+Kr(e),y:l}}(e,n)):mr(t)?function(e,t){var n=_r(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Jr(function(e){var t,n=Mr(e),r=Br(e),a=null==(t=e.ownerDocument)?void 0:t.body,s=gr(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=gr(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-r.scrollLeft+Kr(e),l=-r.scrollTop;return"rtl"===Nr(a||n).direction&&(o+=gr(n.clientWidth,a?a.clientWidth:0)-s),{width:s,height:i,x:o,y:l}}(Mr(e)))}function ea(e,t,n,r){var a="clippingParents"===t?function(e){var t=Xr(Or(e)),n=["absolute","fixed"].indexOf(Nr(e).position)>=0&&pr(e)?Tr(e):e;return mr(n)?t.filter(function(e){return mr(e)&&Sr(e,n)&&"body"!==kr(e)}):[]}(e):[].concat(t),s=[].concat(a,[n]),i=s[0],o=s.reduce(function(t,n){var a=Qr(e,n,r);return t.top=gr(a.top,t.top),t.right=yr(a.right,t.right),t.bottom=yr(a.bottom,t.bottom),t.left=gr(a.left,t.left),t},Qr(e,i,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ta(e){var t,n=e.reference,r=e.element,a=e.placement,s=a?fr(a):null,i=a?Lr(a):null,o=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case Qn:t={x:o,y:n.y-r.height};break;case er:t={x:o,y:n.y+n.height};break;case tr:t={x:n.x+n.width,y:l};break;case nr:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?Rr(s):null;if(null!=c){var u="y"===c?"height":"width";switch(i){case sr:t[c]=t[c]-(n[u]/2-r[u]/2);break;case ir:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function na(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,s=n.strategy,i=void 0===s?e.strategy:s,o=n.boundary,l=void 0===o?"clippingParents":o,c=n.rootBoundary,u=void 0===c?or:c,d=n.elementContext,f=void 0===d?lr:d,h=n.altBoundary,m=void 0!==h&&h,p=n.padding,v=void 0===p?0:p,g=Pr("number"!=typeof v?v:Yr(v,ar)),y=f===lr?"reference":lr,w=e.rects.popper,b=e.elements[m?y:f],x=ea(mr(b)?b:b.contextElement||Mr(e.elements.popper),l,u,i),_=_r(e.elements.reference),D=ta({reference:_,element:w,strategy:"absolute",placement:a}),S=Jr(Object.assign({},w,D)),k=f===lr?S:_,N={top:x.top-k.top+g.top,bottom:k.bottom-x.bottom+g.bottom,left:x.left-k.left+g.left,right:k.right-x.right+g.right},E=e.modifiersData.offset;if(f===lr&&E){var M=E[a];Object.keys(N).forEach(function(e){var t=[tr,er].indexOf(e)>=0?1:-1,n=[Qn,er].indexOf(e)>=0?"y":"x";N[e]+=M[n]*t})}return N}function ra(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,s=n.rootBoundary,i=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?ur:l,u=Lr(r),d=u?o?cr:cr.filter(function(e){return Lr(e)===u}):ar,f=d.filter(function(e){return c.indexOf(e)>=0});0===f.length&&(f=d);var h=f.reduce(function(t,n){return t[n]=na(e,{placement:n,boundary:a,rootBoundary:s,padding:i})[fr(n)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}const aa={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,s=void 0===a||a,i=n.altAxis,o=void 0===i||i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,m=void 0===h||h,p=n.allowedAutoPlacements,v=t.options.placement,g=fr(v),y=l||(g===v||!m?[Vr(v)]:function(e){if(fr(e)===rr)return[];var t=Vr(e);return[qr(e),t,qr(t)]}(v)),w=[v].concat(y).reduce(function(e,n){return e.concat(fr(n)===rr?ra(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:p}):n)},[]),b=t.rects.reference,x=t.rects.popper,_=new Map,D=!0,S=w[0],k=0;k<w.length;k++){var N=w[k],E=fr(N),M=Lr(N)===sr,O=[Qn,er].indexOf(E)>=0,j=O?"width":"height",T=na(t,{placement:N,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),R=O?M?tr:nr:M?er:Qn;b[j]>x[j]&&(R=Vr(R));var C=Vr(R),P=[];if(s&&P.push(T[E]<=0),o&&P.push(T[R]<=0,T[C]<=0),P.every(function(e){return e})){S=N,D=!1;break}_.set(N,P)}if(D)for(var Y=function(e){var t=w.find(function(t){var n=_.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return S=t,"break"},A=m?3:1;A>0;A--){if("break"===Y(A))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function sa(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ia(e){return[Qn,tr,er,nr].some(function(t){return e[t]>=0})}const oa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,s=void 0===a?[0,0]:a,i=ur.reduce(function(e,n){return e[n]=function(e,t,n){var r=fr(e),a=[nr,Qn].indexOf(r)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=s[0],o=s[1];return i=i||0,o=(o||0)*a,[nr,tr].indexOf(r)>=0?{x:o,y:i}:{x:i,y:o}}(n,t.rects,s),e},{}),o=i[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}};const la={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,s=void 0===a||a,i=n.altAxis,o=void 0!==i&&i,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,m=n.tetherOffset,p=void 0===m?0:m,v=na(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=fr(t.placement),y=Lr(t.placement),w=!y,b=Rr(g),x="x"===b?"y":"x",_=t.modifiersData.popperOffsets,D=t.rects.reference,S=t.rects.popper,k="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,N="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(_){if(s){var O,j="y"===b?Qn:nr,T="y"===b?er:tr,R="y"===b?"height":"width",C=_[b],P=C+v[j],Y=C-v[T],A=h?-S[R]/2:0,L=y===sr?D[R]:S[R],W=y===sr?-S[R]:-D[R],z=t.elements.arrow,F=h&&z?Dr(z):{width:0,height:0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},I=H[j],U=H[T],V=Cr(0,D[R],F[R]),G=w?D[R]/2-A-V-I-N.mainAxis:L-V-I-N.mainAxis,q=w?-D[R]/2+A+V+U+N.mainAxis:W+V+U+N.mainAxis,B=t.elements.arrow&&Tr(t.elements.arrow),K=B?"y"===b?B.clientTop||0:B.clientLeft||0:0,Z=null!=(O=null==E?void 0:E[b])?O:0,$=C+q-Z,X=Cr(h?yr(P,C+G-Z-K):P,C,h?gr(Y,$):Y);_[b]=X,M[b]=X-C}if(o){var J,Q="x"===b?Qn:nr,ee="x"===b?er:tr,te=_[x],ne="y"===x?"height":"width",re=te+v[Q],ae=te-v[ee],se=-1!==[Qn,nr].indexOf(g),ie=null!=(J=null==E?void 0:E[x])?J:0,oe=se?re:te-D[ne]-S[ne]-ie+N.altAxis,le=se?te+D[ne]+S[ne]-ie-N.altAxis:ae,ce=h&&se?function(e,t,n){var r=Cr(e,t,n);return r>n?n:r}(oe,te,le):Cr(h?oe:re,te,h?le:ae);_[x]=ce,M[x]=ce-te}t.modifiersData[r]=M}},requiresIfExists:["offset"]};function ca(e,t,n){void 0===n&&(n=!1);var r,a,s=pr(t),i=pr(t)&&function(e){var t=e.getBoundingClientRect(),n=wr(t.width)/e.offsetWidth||1,r=wr(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=Mr(t),l=_r(e,i,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(s||!s&&!n)&&(("body"!==kr(t)||Zr(o))&&(c=(r=t)!==hr(r)&&pr(r)?{scrollLeft:(a=r).scrollLeft,scrollTop:a.scrollTop}:Br(r)),pr(t)?((u=_r(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=Kr(o))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function ua(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||a(e)}),r}var da={placement:"bottom",modifiers:[],strategy:"absolute"};function fa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var ha=function(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,s=void 0===a?da:a;return function(e,t,n){void 0===n&&(n=s);var a,i,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},da,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:o,setOptions:function(n){var a="function"==typeof n?n(o.options):n;d(),o.options=Object.assign({},s,o.options,a),o.scrollParents={reference:mr(e)?Xr(e):e.contextElement?Xr(e.contextElement):[],popper:Xr(t)};var i,c,f=function(e){var t=ua(e);return dr.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}((i=[].concat(r,o.options.modifiers),c=i.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return o.orderedModifiers=f.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"==typeof a){var s=a({state:o,name:t,instance:u,options:r}),i=function(){};l.push(s||i)}}),u.update()},forceUpdate:function(){if(!c){var e=o.elements,t=e.reference,n=e.popper;if(fa(t,n)){o.rects={reference:ca(t,Tr(n),"fixed"===o.options.strategy),popper:Dr(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var a=o.orderedModifiers[r],s=a.fn,i=a.options,l=void 0===i?{}:i,d=a.name;"function"==typeof s&&(o=s({state:o,options:l,name:d,instance:u})||o)}else o.reset=!1,r=-1}}},update:(a=function(){return new Promise(function(e){u.forceUpdate(),e(o)})},function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(a())})})),i}),destroy:function(){d(),c=!0}};if(!fa(e,t))return u;function d(){l.forEach(function(e){return e()}),l=[]}return u.setOptions(n).then(function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)}),u}}({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,i=na(t,{elementContext:"reference"}),o=na(t,{altBoundary:!0}),l=sa(i,r),c=sa(o,a,s),u=ia(l),d=ia(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ta({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Fr,Ir,oa,aa,la,Ar]}),ma=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},pa={name:"applyStyles",enabled:!1},va={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var a=(n.getAttribute("aria-describedby")||"").split(",").filter(function(e){return e.trim()!==r.id});a.length?n.setAttribute("aria-describedby",a.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,a=n.reference,s=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===s&&"setAttribute"in a){var i=a.getAttribute("aria-describedby");if(i&&-1!==i.split(",").indexOf(r.id))return;a.setAttribute("aria-describedby",i?i+","+r.id:r.id)}}},ga=[];function ya(e,t,n,r){return function(e,t,n,r){if(r&&"boolean"!=typeof r&&!Kn){var a=r.once,s=r.capture,i=n;!Kn&&a&&(i=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=i),e.addEventListener(t,i,Bn?r:s)}e.addEventListener(t,n,r)}(e,t,n,r),function(){!function(e,t,n,r){var a=r&&"boolean"!=typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}(e,t,n,r)}}const wa=t(function(){});const ba=function(e){return _n(function(e){return e&&"setState"in e?a.findDOMNode(e):null!=e?e:null}(e))};var xa=function(){};var _a,Da=function(e){return e&&("current"in e?e.current:e)};function Sa(e){return void 0===e&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function ka(e){var t,n,r,a,s=e.enabled,i=e.enableEvents,o=e.placement,l=e.flip,c=e.offset,u=e.fixed,d=e.containerPadding,h=e.arrowElement,m=e.popperConfig,p=void 0===m?{}:m,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach(function(e){t[e.name]=e}),t):e||t}(p.modifiers);return f({},p,{placement:o,enabled:s,strategy:u?"fixed":p.strategy,modifiers:Sa(f({},v,{eventListeners:{enabled:i},preventOverflow:f({},v.preventOverflow,{options:d?f({padding:d},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:f({offset:c},null==(r=v.offset)?void 0:r.options)},arrow:f({},v.arrow,{enabled:!!h,options:f({},null==(a=v.arrow)?void 0:a.options,{element:h})}),flip:f({enabled:!!l},v.flip)}))})}function Na(e){if((!_a&&0!==_a||e)&&Ln){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),_a=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return _a}var Ea=function(e){var t;return"undefined"==typeof document?null:null==e?_n().body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function Ma(e,t){var n=r.useState(function(){return Ea(e)}),a=n[0],s=n[1];if(!a){var i=Ea(e);i&&s(i)}return r.useEffect(function(){t&&a&&t(a)},[t,a]),r.useEffect(function(){var t=Ea(e);t!==a&&s(t)},[e,a]),a}const Oa=e=>e&&"function"!=typeof e?t=>{e.current=t}:e;function ja(e,t){return r.useMemo(()=>function(e,t){const n=Oa(e),r=Oa(t);return e=>{n&&n(e),r&&r(e)}}(e,t),[e,t])}var Ta=n.forwardRef(function(e,t){var s=e.flip,i=e.offset,o=e.placement,c=e.containerPadding,u=void 0===c?5:c,d=e.popperConfig,h=void 0===d?{}:d,m=e.transition,p=Xn(),v=p[0],g=p[1],y=Xn(),w=y[0],b=y[1],x=ja(g,t),_=Ma(e.container),D=Ma(e.target),S=r.useState(!e.show),k=S[0],N=S[1],E=function(e,t,n){var a=void 0===n?{}:n,s=a.enabled,i=void 0===s||s,o=a.placement,c=void 0===o?"bottom":o,u=a.strategy,d=void 0===u?"absolute":u,h=a.modifiers,m=void 0===h?ga:h,p=l(a,["enabled","placement","strategy","modifiers"]),v=r.useRef(),g=r.useCallback(function(){var e;null==(e=v.current)||e.update()},[]),y=r.useCallback(function(){var e;null==(e=v.current)||e.forceUpdate()},[]),w=Jn(r.useState({placement:c,update:g,forceUpdate:y,attributes:{},styles:{popper:ma(d),arrow:{}}})),b=w[0],x=w[1],_=r.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach(function(e){n[e]=t.styles[e],r[e]=t.attributes[e]}),x({state:t,styles:n,attributes:r,update:g,forceUpdate:y,placement:t.placement})}}},[g,y,x]);return r.useEffect(function(){v.current&&i&&v.current.setOptions({placement:c,strategy:d,modifiers:[].concat(m,[_,pa])})},[d,c,_,i]),r.useEffect(function(){if(i&&null!=e&&null!=t)return v.current=ha(e,t,f({},p,{placement:c,strategy:d,modifiers:[].concat(m,[va,_])})),function(){null!=v.current&&(v.current.destroy(),v.current=void 0,x(function(e){return f({},e,{attributes:{},styles:{popper:ma(d)}})}))}},[i,e,t]),b}(D,v,ka({placement:o,enableEvents:!!e.show,containerPadding:u||5,flip:s,offset:i,arrowElement:w,popperConfig:h})),M=E.styles,O=E.attributes,j=l(E,["styles","attributes"]);e.show?k&&N(!1):e.transition||k||N(!0);var T,R,C,P,Y,A,L,W,z,F,H,I,U=e.show||m&&!k;if(T=v,R=e.onHide,C={disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent},Y=(P=void 0===C?{}:C).disabled,A=P.clickTrigger,L=void 0===A?"click":A,W=r.useRef(!1),z=R||xa,F=r.useCallback(function(e){var t,n,r=Da(T);wa(!!r,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),W.current=!(r&&(n=e,!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey))&&function(e){return 0===e.button}(e)&&!On(r,null!=(t=null==e.composedPath?void 0:e.composedPath()[0])?t:e.target))},[T]),H=$n(function(e){W.current||z(e)}),I=$n(function(e){27===e.keyCode&&z(e)}),r.useEffect(function(){if(!Y&&null!=T){var e=window.event,t=ba(Da(T)),n=ya(t,L,F,!0),r=ya(t,L,function(t){t!==e?H(t):e=void 0}),a=ya(t,"keyup",function(t){t!==e?I(t):e=void 0}),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map(function(e){return ya(e,"mousemove",xa)})),function(){n(),r(),a(),s.forEach(function(e){return e()})}}},[T,Y,L,F,H,I]),!U)return null;var V=e.children(f({},j,{show:!!e.show,props:f({},O.popper,{style:M.popper,ref:x}),arrowProps:f({},O.arrow,{style:M.arrow,ref:b})}));if(m){var G=e.onExit,q=e.onExiting,B=e.onEnter,K=e.onEntering,Z=e.onEntered;V=n.createElement(m,{in:e.show,appear:!0,onExit:G,onExiting:q,onExited:function(){N(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:B,onEntering:K,onEntered:Z},V)}return _?a.createPortal(V,_):null});Ta.displayName="Overlay",Ta.propTypes={show:v.bool,placement:v.oneOf(ur),target:v.any,container:v.any,flip:v.bool,children:v.func.isRequired,containerPadding:v.number,popperConfig:v.object,rootClose:v.bool,rootCloseEvent:v.oneOf(["click","mousedown"]),rootCloseDisabled:v.bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;return e.rootClose?(a=v.func).isRequired.apply(a,[e].concat(n)):v.func.apply(v,[e].concat(n))},transition:v.elementType,onEnter:v.func,onEntering:v.func,onEntered:v.func,onExit:v.func,onExiting:v.func,onExited:v.func};const Ra=Ta;function Ca(e,t){var n=jn(e);return n?n.innerHeight:t?e.clientHeight:Pn(e).height}function Pa(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(Gn(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}var Ya=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Aa(e,t){return e===t||!(!Ya(e)||!Ya(t))}function La(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Aa(e[n],t[n]))return!1;return!0}function Wa(e,t){void 0===t&&(t=La);var n=null;function r(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var s=e.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return r.clear=function(){n=null},r}function za(e,t){var n=jn(e);return n?n.innerWidth:t?e.clientWidth:Pn(e).width}function Fa(e){return ht(e)||hn(e)||pt(e)||vt()}var Ha=g,Ia=y,Ua=m,Va=w,Ga=Object.prototype,qa=Ga.hasOwnProperty;const Ba=t(Ha(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&Ua(t[0],t[1],a)&&(r=1);++n<r;)for(var s=t[n],i=Va(s),o=-1,l=i.length;++o<l;){var c=i[o],u=e[c];(void 0===u||Ia(u,Ga[c])&&!qa.call(e,c))&&(e[c]=s[c])}return e}));var Ka=b,Za=x,$a=_,Xa=D,Ja=S,Qa=O,es=k,ts=N,ns=E,rs=M;const as=t(function(e,t,n){var r=Qa(e),a=r||es(e)||rs(e);if(t=Xa(t),null==n){var s=e&&e.constructor;n=a?r?new s:[]:ns(e)&&ts(s)?Za(Ja(e)):{}}return(a?Ka:$a)(e,function(e,r,a){return t(n,e,r,a)}),n});!function(){var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g}();function ss(e){return e.children}var is="PREV",os="NEXT",ls="TODAY",cs="DATE",us={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},ds=Object.keys(us).map(function(e){return us[e]});v.oneOfType([v.string,v.func]),v.any,v.func,v.oneOfType([v.arrayOf(v.oneOf(ds)),v.objectOf(function(e,t){if(-1!==ds.indexOf(t)&&"boolean"==typeof e[t])return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return v.elementType.apply(v,[e,t].concat(r))})]),v.oneOfType([v.oneOf(["overlap","no-overlap"]),v.func]);var fs={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function hs(e,t){var n=Ut(e,"month");return Ut(n,"week",t.startOfWeek())}function ms(e,t){var n=Vt(e,"month");return Vt(n,"week",t.startOfWeek())}function ps(e,t){for(var n=hs(e,t),r=ms(e,t),a=[];$t(n,r,"day");)a.push(n),n=Ht(n,1,"day");return a}function vs(e,t){var n=Ut(e,t);return Gt(n,e)?n:Ht(n,1,t)}function gs(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=e,a=[];$t(r,t,n);)a.push(r),r=Ht(r,1,n);return a}function ys(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=Ut(e,"day"),e=rn(e,rn(t)),e=nn(e,nn(t)),e=tn(e,tn(t)),en(e,en(t)))}function ws(e){return 0===rn(e)&&0===nn(e)&&0===tn(e)&&0===en(e)}function bs(e,t,n){return n&&"milliseconds"!==n?Math.round(Math.abs(+Ut(e,n)/fs[n]-+Ut(t,n)/fs[n])):Math.abs(+e-+t)}var xs=v.oneOfType([v.string,v.func]);function _s(e,t,n,r,a){var s="function"==typeof r?r(n,a,e):t.call(e,n,r,a);return xt(null==s||"string"==typeof s,"`localizer format(..)` must return a string, null, or undefined"),s}function Ds(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function Ss(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function ks(e,t){return bs(e,t,"minutes")+Ss(e,t)}function Ns(e){var t=Ut(e,"day");return bs(t,e,"minutes")+Ss(t,e)}function Es(e,t){return Zt(e,t,"day")}function Ms(e,t,n){return Gt(e,t,"minutes")?Kt(t,n,"minutes"):Bt(t,n,"minutes")}function Os(e,t){return function(e,t,n,r){return"day"===n&&(n="date"),Math.abs(fn[n](e,void 0,r)-fn[n](t,void 0,r))}(e,t,"day")}function js(e){var t=e.evtA,n=t.start,r=t.end,a=t.allDay,s=e.evtB,i=s.start,o=s.end,l=s.allDay,c=+Ut(n,"day")-+Ut(i,"day"),u=Os(n,r),d=Os(i,o);return c||d-u||!!l-!!a||+n-+i||+r-+o}function Ts(e){var t=e.event,n=t.start,r=t.end,a=e.range,s=a.start,i=a.end,o=Ut(n,"day"),l=$t(o,i,"day"),c=qt(o,r,"minutes")?Bt(r,s,"minutes"):Kt(r,s,"minutes");return l&&c}function Rs(e,t){return Gt(e,t,"day")}function Cs(e,t){return ws(e)&&ws(t)}var Ps=lt(function e(t){var n=this;it(this,e),xt("function"==typeof t.format,"date localizer `format(..)` must be a function"),xt("function"==typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||xs,this.formats=t.formats,this.format=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return _s.apply(void 0,[n,t.format].concat(r))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||ys,this.inRange=t.inRange||Qt,this.lt=t.lt||Zt,this.lte=t.lte||$t,this.gt=t.gt||Bt,this.gte=t.gte||Kt,this.eq=t.eq||Gt,this.neq=t.neq||qt,this.startOf=t.startOf||Ut,this.endOf=t.endOf||Vt,this.add=t.add||Ht,this.range=t.range||gs,this.diff=t.diff||bs,this.ceil=t.ceil||vs,this.min=t.min||Xt,this.max=t.max||Jt,this.minutes=t.minutes||nn,this.daySpan=t.daySpan||Os,this.firstVisibleDay=t.firstVisibleDay||hs,this.lastVisibleDay=t.lastVisibleDay||ms,this.visibleDays=t.visibleDays||ps,this.getSlotDate=t.getSlotDate||Ds,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Ss,this.getTotalMin=t.getTotalMin||ks,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Ns,this.continuesPrior=t.continuesPrior||Es,this.continuesAfter=t.continuesAfter||Ms,this.sortEvents=t.sortEvents||js,this.inEventRange=t.inEventRange||Ts,this.isSameDate=t.isSameDate||Rs,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Cs,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function Ys(e,t,n,r){var a=at(at({},e.formats),n);return at(at({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(n,r){return e.format(n,a[r]||r,t)}})}var As=function(){function e(){var t;it(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=dt(this,e,[].concat(r))).navigate=function(e){t.props.onNavigate(e)},t.view=function(e){t.props.onView(e)},t}return ft(e,n.Component),lt(e,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,r=e.label;return n.createElement("div",{className:"rbc-toolbar"},n.createElement("span",{className:"rbc-btn-group"},n.createElement("button",{type:"button",onClick:this.navigate.bind(null,ls)},t.today),n.createElement("button",{type:"button",onClick:this.navigate.bind(null,is)},t.previous),n.createElement("button",{type:"button",onClick:this.navigate.bind(null,os)},t.next)),n.createElement("span",{className:"rbc-toolbar-label"},r),n.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))}},{key:"viewNamesGroup",value:function(e){var t=this,r=this.props.views,a=this.props.view;if(r.length>1)return r.map(function(r){return n.createElement("button",{type:"button",key:r,className:wt({"rbc-active":a===r}),onClick:t.view.bind(null,r)},e[r])})}}])}();function Ls(e,t){e&&e.apply(null,[].concat(t))}var Ws={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};var zs=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Fs=function(){function e(){return it(this,e),dt(this,e,arguments)}return ft(e,n.Component),lt(e,[{key:"render",value:function(){var e=this.props,t=e.style,r=e.className,a=e.event,s=e.selected,i=e.isAllDay,o=e.onSelect,l=e.onDoubleClick,c=e.onKeyPress,u=e.localizer,d=e.continuesPrior,f=e.continuesAfter,h=e.accessors,m=e.getters,p=e.children,v=e.components,g=v.event,y=v.eventWrapper,w=e.slotStart,b=e.slotEnd,x=st(e,zs);delete x.resizable;var _=h.title(a),D=h.tooltip(a),S=h.end(a),k=h.start(a),N=h.allDay(a),E=i||N||u.diff(k,u.ceil(S,"day"),"day")>1,M=m.eventProp(a,k,S,s),O=n.createElement("div",{className:"rbc-event-content",title:D||void 0},g?n.createElement(g,{event:a,continuesPrior:d,continuesAfter:f,title:_,isAllDay:N,localizer:u,slotStart:w,slotEnd:b}):_);return n.createElement(y,Object.assign({},this.props,{type:"date"}),n.createElement("div",Object.assign({},x,{style:at(at({},M.style),t),className:wt("rbc-event",r,M.className,{"rbc-selected":s,"rbc-event-allday":E,"rbc-event-continues-prior":d,"rbc-event-continues-after":f}),onClick:function(e){return o&&o(a,e)},onDoubleClick:function(e){return l&&l(a,e)},onKeyDown:function(e){return c&&c(a,e)}}),"function"==typeof p?p(O):O))}}])}();function Hs(e,t){return!(!e||null==t)&&j(e,t)}function Is(e,t){return(e.right-e.left)/t}function Us(e,t,n,r){var a=Is(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function Vs(e){var t,a,s,i=e.containerRef,o=e.accessors,l=e.getters,c=e.selected,u=e.components,d=e.localizer,f=e.position,h=e.show,m=e.events,p=e.slotStart,v=e.slotEnd,g=e.onSelect,y=e.onDoubleClick,w=e.onKeyPress,b=e.handleDragStart,x=e.popperRef,_=e.target,D=e.offset;a=(t={ref:x,callback:h}).ref,s=t.callback,r.useEffect(function(){var e=function(e){a.current&&!a.current.contains(e.target)&&s()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[a,s]),r.useLayoutEffect(function(){var e=function(e){var t=e.target,n=e.offset,r=e.container,a=e.box,s=Pn(t),i=s.top,o=s.left,l=s.width,c=s.height,u=Pn(r),d=u.top,f=u.left,h=u.width,m=u.height,p=Pn(a),v=p.width,g=p.height,y=d+m,w=f+h,b=i+g,x=o+v,_=n.x,D=n.y;return{topOffset:b>y?i-g-D:i+D+c,leftOffset:x>w?o+_-v+l:o+_}}({target:_,offset:D,container:i.current,box:x.current}),t=e.topOffset,n=e.leftOffset;x.current.style.top="".concat(t,"px"),x.current.style.left="".concat(n,"px")},[D.x,D.y,_]);var S=f.width,k={minWidth:S+S/2};return n.createElement("div",{style:k,className:"rbc-overlay",ref:x},n.createElement("div",{className:"rbc-overlay-header"},d.format(p,"dayHeaderFormat")),m.map(function(e,t){return n.createElement(Fs,{key:t,type:"popup",localizer:d,event:e,getters:l,onSelect:g,accessors:o,components:u,onDoubleClick:y,onKeyPress:w,continuesPrior:d.lt(o.end(e),p,"day"),continuesAfter:d.gte(o.start(e),v,"day"),slotStart:p,slotEnd:v,selected:Hs(e,c),draggable:!0,onDragStart:function(){return b(e)},onDragEnd:function(){return h()}})}))}var Gs=n.forwardRef(function(e,t){return n.createElement(Vs,Object.assign({},e,{popperRef:t}))});function qs(e){var t=e.containerRef,a=e.popupOffset,s=void 0===a?5:a,i=e.overlay,o=e.accessors,l=e.localizer,c=e.components,u=e.getters,d=e.selected,f=e.handleSelectEvent,h=e.handleDoubleClickEvent,m=e.handleKeyPressEvent,p=e.handleDragStart,v=e.onHide,g=e.overlayDisplay,y=r.useRef(null);if(!i.position)return null;var w=s;isNaN(s)||(w={x:s,y:s});var b=i.position,x=i.events,_=i.date,D=i.end;return n.createElement(Ra,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:i.target},function(e){var r=e.props;return n.createElement(Gs,Object.assign({},r,{containerRef:t,ref:y,target:i.target,offset:w,accessors:o,getters:u,selected:d,components:c,localizer:l,position:b,show:g,events:x,slotStart:_,slotEnd:D,onSelect:f,onDoubleClick:h,onKeyPress:m,handleDragStart:p}))})}Gs.propTypes={accessors:v.object.isRequired,getters:v.object.isRequired,selected:v.object,components:v.object.isRequired,localizer:v.object.isRequired,position:v.object.isRequired,show:v.func.isRequired,events:v.array.isRequired,slotStart:v.instanceOf(Date).isRequired,slotEnd:v.instanceOf(Date),onSelect:v.func,onDoubleClick:v.func,onKeyPress:v.func,handleDragStart:v.func,style:v.object,offset:v.shape({x:v.number,y:v.number})};var Bs=n.forwardRef(function(e,t){return n.createElement(qs,Object.assign({},e,{containerRef:t}))});function Ks(e,t){return ya(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,e,t,{passive:!1})}function Zs(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY;return Pa(document.elementFromPoint(n,r),".rbc-event",e)}(e,t)}function $s(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY;return Pa(document.elementFromPoint(n,r),".rbc-show-more",e)}(e,t)}function Xs(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}Bs.propTypes={popupOffset:v.oneOfType([v.number,v.shape({x:v.number,y:v.number})]),overlay:v.shape({position:v.object,events:v.array,date:v.instanceOf(Date),end:v.instanceOf(Date)}),accessors:v.object.isRequired,localizer:v.object.isRequired,components:v.object.isRequired,getters:v.object.isRequired,selected:v.object,handleSelectEvent:v.func,handleDoubleClickEvent:v.func,handleKeyPressEvent:v.func,handleDragStart:v.func,onHide:v.func,overlayDisplay:v.func};var Js=function(){return lt(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.global;var r=n.longPressThreshold,a=void 0===r?250:r,s=n.validContainers,i=void 0===s?[]:s;it(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||globalThis,this.longPressThreshold=a,this.validContainers=i,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Ks("touchmove",function(){},window),this._removeKeyDownListener=Ks("keydown",this._keyListener),this._removeKeyUpListener=Ks("keyup",this._keyListener),this._removeDropFromOutsideListener=Ks("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Ks("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()},[{key:"on",value:function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;return(this._listeners[e]||[]).forEach(function(e){void 0===a&&(a=e.apply(void 0,n))}),a}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&Qs(t,ei(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var n=this,r=null,a=null,s=null,i=function(t){r=setTimeout(function(){l(),e(t)},n.longPressThreshold),a=Ks("touchmove",function(){return l()}),s=Ks("touchend",function(){return l()})},o=Ks("touchstart",i),l=function(){r&&clearTimeout(r),a&&a(),s&&s(),r=null,a=null,s=null};return t&&i(t),function(){l(),o()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=Ks("mousedown",function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=Ks("mousedown",e._handleInitialEvent)}),n=Ks("touchstart",function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)});this._removeInitialEventListener=function(){t(),n()}}},{key:"_dropFromOutsideListener",value:function(e){var t=Xs(e),n=t.pageX,r=t.pageY,a=t.clientX,s=t.clientY;this.emit("dropFromOutside",{x:n,y:r,clientX:a,clientY:s}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=Xs(e),n=t.pageX,r=t.pageY,a=t.clientX,s=t.clientY;this.emit("dragOverFromOutside",{x:n,y:r,clientX:a,clientY:s}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var t,n=Xs(e),r=n.clientX,a=n.clientY,s=n.pageX,i=n.pageY,o=this.container();if(3!==e.which&&2!==e.button&&(c=r,u=a,!(l=o)||On(l,document.elementFromPoint(c,u)))){var l,c,u;if(!this.globalMouse&&o&&!On(o,e.target)){var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==W(e)&&(e={top:e,left:e,right:e,bottom:e});return e}(0),f=d.top,h=d.left,m=d.bottom,p=d.right;if(!Qs({top:(t=ei(o)).top-f,left:t.left-h,bottom:t.bottom+m,right:t.right+p},{top:i,left:s}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:s,y:i,clientX:r,clientY:a}))switch(e.type){case"mousedown":this._removeEndListener=Ks("mouseup",this._handleTerminatingEvent),this._onEscListener=Ks("keydown",this._handleTerminatingEvent),this._removeMoveListener=Ks("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=Ks("touchend",this._handleTerminatingEvent),this._removeMoveListener=Ks("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,n=this.validContainers;return!(n&&n.length&&t)||n.some(function(e){return!!t.closest(e)})}},{key:"_handleTerminatingEvent",value:function(e){var t=this.selecting,n=this._selectRect;if(!t&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,e){var r=!this.container||On(this.container(),e.target),a=this._isWithinValidContainer(e);return"Escape"!==e.key&&a?!t&&r?this._handleClickEvent(e):t?this.emit("select",n):this.emit("reset"):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=Xs(e),n=t.pageX,r=t.pageY,a=t.clientX,s=t.clientY,i=(new Date).getTime();return this._lastClickData&&i-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:r,clientX:a,clientY:s})):(this._lastClickData={timestamp:i},this.emit("click",{x:n,y:r,clientX:a,clientY:s}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,n=t.x,r=t.y,a=Xs(e),s=a.pageX,i=a.pageY,o=Math.abs(n-s),l=Math.abs(r-i),c=Math.min(s,n),u=Math.min(i,r),d=this.selecting,f=this.isClick(s,i);(!f||d||o||l)&&(d||f||this.emit("selectStart",this._initialEventData),f||(this.selecting=!0,this._selectRect={top:u,left:c,x:s,y:i,right:c+o,bottom:u+l},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var n=this._initialEventData,r=n.x,a=n.y;return!n.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-a)<=5}}])}();function Qs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=ei(e),a=r.top,s=r.left,i=r.right,o=void 0===i?s:i,l=r.bottom,c=void 0===l?a:l,u=ei(t),d=u.top,f=u.left,h=u.right,m=void 0===h?f:h,p=u.bottom;return!(c-n<d||a+n>(void 0===p?d:p)||o-n<f||s+n>m)}function ei(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+ti("left"),r=t.top+ti("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function ti(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var ni=function(){function e(t,n){var a;return it(this,e),(a=dt(this,e,[t,n])).state={selecting:!1},a.containerRef=r.createRef(),a}return ft(e,n.Component),lt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,t=e.range,r=e.getNow,a=e.getters,s=e.date,i=e.components.dateCellWrapper,o=e.localizer,l=this.state,c=l.selecting,u=l.startIdx,d=l.endIdx,f=r();return n.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},t.map(function(e,r){var l=c&&r>=u&&r<=d,h=a.dayProp(e),m=h.className,p=h.style;return n.createElement(i,{key:r,value:e,range:t},n.createElement("div",{style:p,className:wt("rbc-day-bg",m,l&&"rbc-selected-cell",o.isSameDate(e,f)&&"rbc-today",s&&o.neq(s,e,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,n=this._selector=new Js(this.props.container,{longPressThreshold:this.props.longPressThreshold}),r=function(n,r){if(!Zs(t,n)&&!$s(t,n)){var a=ei(t),s=e.props,i=s.range,o=s.rtl;if(c=a,d=(u=n).x,(f=u.y)>=c.top&&f<=c.bottom&&d>=c.left&&d<=c.right){var l=Us(a,n.x,o,i.length);e._selectSlot({startIdx:l,endIdx:l,action:r,box:n})}}var c,u,d,f;e._initial={},e.setState({selecting:!1})};n.on("selecting",function(r){var a=e.props,s=a.range,i=a.rtl,o=-1,l=-1;if(e.state.selecting||(Ls(e.props.onSelectStart,[r]),e._initial={x:r.x,y:r.y}),n.isSelected(t)){var c=ei(t),u=function(e,t,n,r,a){var s=-1,i=-1,o=r-1,l=Is(t,r),c=Us(t,n.x,a,r),u=t.top<n.y&&t.bottom>n.y,d=t.top<e.y&&t.bottom>e.y,f=e.y>t.bottom,h=t.top>e.y;return n.top<t.top&&n.bottom>t.bottom&&(s=0,i=o),u&&(h?(s=0,i=c):f&&(s=c,i=o)),d&&(s=i=a?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),u?c<s?s=c:i=c:e.y<n.y?i=o:s=0),{startIdx:s,endIdx:i}}(e._initial,c,r,s.length,i);o=u.startIdx,l=u.endIdx}e.setState({selecting:!0,startIdx:o,endIdx:l})}),n.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!Zs(e.containerRef.current,t)}),n.on("click",function(e){return r(e,"click")}),n.on("doubleClick",function(e){return r(e,"doubleClick")}),n.on("select",function(t){e._selectSlot(at(at({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),Ls(e.props.onSelectEnd,[e.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,n=e.startIdx,r=e.action,a=e.bounds,s=e.box;-1!==t&&-1!==n&&this.props.onSelectSlot&&this.props.onSelectSlot({start:n,end:t,action:r,bounds:a,box:s,resourceId:this.props.resourceId})}}])}(),ri=(v.object.isRequired,v.object,v.bool,v.object.isRequired,v.object.isRequired,v.object.isRequired,v.object.isRequired,v.func,v.func,v.func,{segments:[],selected:{}}),ai=function(e,t){var r=e.selected;e.isAllDay;var a=e.accessors,s=e.getters,i=e.onSelect,o=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,u=e.slotMetrics,d=e.components,f=e.resizable,h=u.continuesPrior(t),m=u.continuesAfter(t);return n.createElement(Fs,{event:t,getters:s,localizer:c,accessors:a,components:d,onSelect:i,onDoubleClick:o,onKeyPress:l,continuesPrior:h,continuesAfter:m,slotStart:u.first,slotEnd:u.last,selected:Hs(t,r),resizable:f})},si=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",s=Math.abs(t)/e*100+"%";return n.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},a)},ii=function(){function e(){return it(this,e),dt(this,e,arguments)}return ft(e,n.Component),lt(e,[{key:"render",value:function(){var e=this,t=this.props,r=t.segments,a=t.slotMetrics.slots,s=t.className,i=1;return n.createElement("div",{className:wt(s,"rbc-row")},r.reduce(function(t,n,r){var s=n.event,o=n.left,l=n.right,c=n.span,u="_lvl_"+r,d=o-i,f=ai(e.props,s);return d&&t.push(si(a,d,"".concat(u,"_gap"))),t.push(si(a,c,u,f)),i=l+1,t},[]))}}])}();function oi(e){var t=e.dateRange,n=e.unit,r=void 0===n?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function li(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,s=[],i=[];for(t=0;t<e.length;t++){for(r=e[t],n=0;n<s.length&&ui(r,s[n]);n++);n>=a?i.push(r):(s[n]||(s[n]=[])).push(r)}for(t=0;t<s.length;t++)s[t].sort(function(e,t){return e.left-t.left});return{levels:s,extra:i}}function ci(e,t,n,r,a){var s={start:r.start(e),end:r.end(e)},i={start:t,end:n};return a.inEventRange({event:s,range:i})}function ui(e,t){return t.some(function(t){return t.left<=e.right&&t.right>=e.left})}function di(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},s={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:s})}ii.defaultProps=at({},ri);var fi=function(e,t){return e.left<=t&&e.right>=t},hi=function(e,t){return e.filter(function(e){return fi(e,t)}).map(function(e){return e.event})},mi=function(){function e(){return it(this,e),dt(this,e,arguments)}return ft(e,n.Component),lt(e,[{key:"render",value:function(){for(var e=this.props,t=e.segments,r=e.slotMetrics.slots,a=li(t).levels[0],s=1,i=1,o=[];s<=r;){var l="_lvl_"+s,c=a.filter(function(e){return fi(e,s)})[0]||{},u=c.event,d=c.left,f=c.right,h=c.span;if(u){var m=Math.max(0,d-i);if(this.canRenderSlotEvent(d,h)){var p=ai(this.props,u);m&&o.push(si(r,m,l+"_gap")),o.push(si(r,h,l,p)),i=s=f+1}else m&&o.push(si(r,m,l+"_gap")),o.push(si(r,1,l,this.renderShowMore(t,s))),i=s+=1}else{if(this.getHiddenEventsForSlot(t,s).length>0){var v=s-i;v&&o.push(si(r,v,l+"_gap")),o.push(si(r,1,l,this.renderShowMore(t,s))),i=s+=1;continue}s++}}return n.createElement("div",{className:"rbc-row"},o)}},{key:"getHiddenEventsForSlot",value:function(e,t){var n=hi(e,t),r=li(e).levels[0].filter(function(e){return fi(e,t)}).map(function(e){return e.event});return n.filter(function(e){return!r.some(function(t){return t===e})})}},{key:"canRenderSlotEvent",value:function(e,t){var n=this.props.segments;return T(e,e+t).every(function(e){return 1===hi(n,e).length})}},{key:"renderShowMore",value:function(e,t){var r=this,a=this.props,s=a.localizer,i=a.slotMetrics,o=a.components,l=i.getEventsForSlot(t),c=hi(e,t),u=c.length;if(null!=o&&o.showMore){var d=o.showMore,f=i.getDateForSlot(t-1);return!!u&&n.createElement(d,{localizer:s,slotDate:f,slot:t,count:u,events:l,remainingEvents:c})}return!!u&&n.createElement("button",{type:"button",key:"sm_"+t,className:wt("rbc-button-link","rbc-show-more"),onClick:function(e){return r.showMore(t,e)}},s.messages.showMore(u,c,l))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}])}();mi.defaultProps=at({},ri);var pi=function(e){var t=e.children;return n.createElement("div",{className:"rbc-row-content-scroll-container"},t)},vi=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function gi(){return Wa(function(e){for(var t=e.range,n=e.events,r=e.maxRows,a=e.minRows,s=e.accessors,i=e.localizer,o=oi({dateRange:t,localizer:i}),l=o.first,c=o.last,u=n.map(function(e){return function(e,t,n,r){var a=oi({dateRange:t,localizer:r}),s=a.first,i=a.last,o=r.diff(s,i,"day"),l=r.max(r.startOf(n.start(e),"day"),s),c=r.min(r.ceil(n.end(e),"day"),i),u=A(t,function(e){return r.isSameDate(e,l)}),d=r.diff(l,c,"day");return d=Math.min(d,o),{event:e,span:d=Math.max(d-r.segmentOffset,1),left:u+1,right:Math.max(u+d,1)}}(e,t,s,i)}),d=li(u,Math.max(r-1,1)),f=d.levels,h=d.extra,m=h.length>0?a-1:a;f.length<m;)f.push([]);return{first:l,last:c,levels:f,extra:h,range:t,slots:t.length,clone:function(t){return gi()(at(at({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find(function(t){return i.isSameDate(t,e)})},getEventsForSlot:function(e){return u.filter(function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)}).map(function(e){return e.event})},continuesPrior:function(e){return i.continuesPrior(s.start(e),l)},continuesAfter:function(e){var t=s.start(e),n=s.end(e);return i.continuesAfter(t,n,c)}}},vi)}var yi=function(){function e(){var t;it(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=dt(this,e,[].concat(s))).handleSelectSlot=function(e){var n=t.props,r=n.range;(0,n.onSelectSlot)(r.slice(e.start,e.end+1),e)},t.handleShowMore=function(e,n){var r,a,s,i=t.props,o=i.range,l=i.onShowMore,c=t.slotMetrics(t.props),u=(r=t.containerRef.current,a=".rbc-row-bg",qn(r.querySelectorAll(a)))[0];u&&(s=u.children[e-1]),l(c.getEventsForSlot(e),o[e-1],s,e,n)},t.getContainer=function(){var e=t.props.container;return e?e():t.containerRef.current},t.renderHeadingCell=function(e,n){var r=t.props,a=r.renderHeader,s=r.getNow,i=r.localizer;return a({date:e,key:"header_".concat(n),className:wt("rbc-date-cell",i.isSameDate(e,s())&&"rbc-now")})},t.renderDummy=function(){var e=t.props,r=e.className,a=e.range,s=e.renderHeader,i=e.showAllEvents;return n.createElement("div",{className:r,ref:t.containerRef},n.createElement("div",{className:wt("rbc-row-content",i&&"rbc-row-content-scrollable")},s&&n.createElement("div",{className:"rbc-row",ref:t.headingRowRef},a.map(t.renderHeadingCell)),n.createElement("div",{className:"rbc-row",ref:t.eventRowRef},n.createElement("div",{className:"rbc-row-segment"},n.createElement("div",{className:"rbc-event"},n.createElement("div",{className:"rbc-event-content"}," "))))))},t.containerRef=r.createRef(),t.headingRowRef=r.createRef(),t.eventRowRef=r.createRef(),t.slotMetrics=gi(),t}return ft(e,n.Component),lt(e,[{key:"getRowLimit",value:function(){var e,t=Ca(this.eventRowRef.current),n=null!==(e=this.headingRowRef)&&void 0!==e&&e.current?Ca(this.headingRowRef.current):0,r=Ca(this.containerRef.current)-n;return Math.max(Math.floor(r/t),1)}},{key:"render",value:function(){var e=this.props,t=e.date,r=e.rtl,a=e.range,s=e.className,i=e.selected,o=e.selectable,l=e.renderForMeasure,c=e.accessors,u=e.getters,d=e.components,f=e.getNow,h=e.renderHeader,m=e.onSelect,p=e.localizer,v=e.onSelectStart,g=e.onSelectEnd,y=e.onDoubleClick,w=e.onKeyPress,b=e.resourceId,x=e.longPressThreshold,_=e.isAllDay,D=e.resizable,S=e.showAllEvents;if(l)return this.renderDummy();var k=this.slotMetrics(this.props),N=k.levels,E=k.extra,M=S?pi:ss,O=d.weekWrapper,j={selected:i,accessors:c,getters:u,localizer:p,components:d,onSelect:m,onDoubleClick:y,onKeyPress:w,resourceId:b,slotMetrics:k,resizable:D};return n.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},n.createElement(ni,{localizer:p,date:t,getNow:f,rtl:r,range:a,selectable:o,container:this.getContainer,getters:u,onSelectStart:v,onSelectEnd:g,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:x,resourceId:b}),n.createElement("div",{className:wt("rbc-row-content",S&&"rbc-row-content-scrollable"),role:"row"},h&&n.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},a.map(this.renderHeadingCell)),n.createElement(M,null,n.createElement(O,Object.assign({isAllDay:_},j,{rtl:this.props.rtl}),N.map(function(e,t){return n.createElement(ii,Object.assign({key:t,segments:e},j))}),!!E.length&&n.createElement(mi,Object.assign({segments:E,onShowMore:this.handleShowMore},j))))))}}])}();yi.defaultProps={minRows:0,maxRows:1/0};var wi=function(e){var t=e.label;return n.createElement("span",{role:"columnheader","aria-sort":"none"},t)},bi=function(e){var t=e.label,r=e.drilldownView,a=e.onDrillDown;return r?n.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},t):n.createElement("span",null,t)},xi=["date","className"],_i=function(){function e(){var t;it(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=dt(this,e,[].concat(s))).getContainer=function(){return t.containerRef.current},t.renderWeek=function(e,r){var a=t.props,s=a.events,i=a.components,o=a.selectable,l=a.getNow,c=a.selected,u=a.date,d=a.localizer,f=a.longPressThreshold,h=a.accessors,m=a.getters,p=a.showAllEvents,v=t.state,g=v.needLimitMeasure,y=v.rowLimit,w=function(e,t,n,r,a){return e.filter(function(e){return ci(e,t,n,r,a)})}(mn(s),e[0],e[e.length-1],h,d),b=function(e,t,n){var r=mn(e),a=[],s=[];r.forEach(function(e){var r=t.start(e),i=t.end(e);n.daySpan(r,i)>1?a.push(e):s.push(e)});var i=a.sort(function(e,r){return di(e,r,t,n)}),o=s.sort(function(e,r){return di(e,r,t,n)});return[].concat(mn(i),mn(o))}(w,h,d);return n.createElement(yi,{key:r,ref:0===r?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:l,date:u,range:e,events:b,maxRows:p?1/0:y,selected:c,selectable:o,components:i,accessors:h,getters:m,localizer:d,renderHeader:t.readerDateHeading,renderForMeasure:g,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:f,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:p})},t.readerDateHeading=function(e){var r=e.date,a=e.className,s=st(e,xi),i=t.props,o=i.date,l=i.getDrilldownView,c=i.localizer,u=c.neq(o,r,"month"),d=c.isSameDate(r,o),f=l(r),h=c.format(r,"dateFormat"),m=t.props.components.dateHeader||bi;return n.createElement("div",Object.assign({},s,{className:wt(a,u&&"rbc-off-range",d&&"rbc-current"),role:"cell"}),n.createElement(m,{label:h,date:r,drilldownView:f,isOffRange:u,onDrillDown:function(e){return t.handleHeadingClick(r,f,e)}}))},t.handleSelectSlot=function(e,n){t._pendingSelection=t._pendingSelection.concat(e),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(n)})},t.handleHeadingClick=function(e,n,r){r.preventDefault(),t.clearSelection(),Ls(t.props.onDrillDown,[e,n])},t.handleSelectEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ls(t.props.onSelectEvent,n)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ls(t.props.onDoubleClickEvent,n)},t.handleKeyPressEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ls(t.props.onKeyPressEvent,n)},t.handleShowMore=function(e,n,r,a,s){var i=t.props,o=i.popup,l=i.onDrillDown,c=i.onShowMore,u=i.getDrilldownView,d=i.doShowMoreDrillDown;if(t.clearSelection(),o){var f=An(r,t.containerRef.current);t.setState({overlay:{date:n,events:e,position:f,target:s}})}else d&&Ls(l,[n,u(n)||us.DAY]);Ls(c,[e,n,a])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=r.createRef(),t.slotRowRef=r.createRef(),t._bgRows=[],t._pendingSelection=[],t}return ft(e,n.Component),lt(e,[{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||Vn(function(){e=!1,t.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,t=e.date,r=e.localizer,a=e.className,s=r.visibleDays(t,r),i=xn(s,7);return this._weekCount=i.length,n.createElement("div",{className:wt("rbc-month-view",a),role:"table","aria-label":"Month View",ref:this.containerRef},n.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(i[0])),i.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var t=this.props,r=t.localizer,a=t.components,s=e[0],i=e[e.length-1],o=a.header||wi;return r.range(s,i,"day").map(function(e,t){return n.createElement("div",{key:"header_"+t,className:"rbc-header"},n.createElement(o,{date:e,localizer:r,label:r.format(e,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var e,t,r=this,a=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},s=this.props,i=s.accessors,o=s.localizer,l=s.components,c=s.getters,u=s.selected,d=s.popupOffset,f=s.handleDragStart;return n.createElement(Bs,{overlay:a,accessors:i,localizer:o,components:l,getters:c,selected:u,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:f,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:function(){return r.setState({overlay:null})}})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort(function(e,t){return+e-+t});var n=new Date(t[0]),r=new Date(t[t.length-1]);r.setDate(t[t.length-1].getDate()+1),Ls(this.props.onSelectSlot,{slots:t,start:n,end:r,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.date;return{date:n,needLimitMeasure:e.localizer.neq(n,t.date,"month")}}}])}();_i.range=function(e,t){var n=t.localizer;return{start:n.firstVisibleDay(e,n),end:n.lastVisibleDay(e,n)}},_i.navigate=function(e,t,n){var r=n.localizer;switch(t){case is:return r.add(e,-1,"month");case os:return r.add(e,1,"month");default:return e}},_i.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var Di=function(e){var t=e.min,n=e.max,r=e.step,a=e.slots,s=e.localizer;return"".concat(+s.startOf(t,"minutes"))+"".concat(+s.startOf(n,"minutes"))+"".concat(r,"-").concat(a)};function Si(e){for(var t=e.min,n=e.max,r=e.step,a=e.timeslots,s=e.localizer,i=Di({start:t,end:n,step:r,timeslots:a,localizer:s}),o=1+s.getTotalMin(t,n),l=s.getMinutesFromMidnight(t),c=Math.ceil((o-1)/(r*a)),u=c*a,d=new Array(c),f=new Array(u),h=0;h<c;h++){d[h]=new Array(a);for(var m=0;m<a;m++){var p=h*a+m,v=p*r;f[p]=d[h][m]=s.getSlotDate(t,l,v)}}var g=f.length*r;function y(e){var n=s.diff(t,e,"minutes")+s.getDstOffset(t,e);return Math.min(n,o)}return f.push(s.getSlotDate(t,l,g)),{groups:d,update:function(e){return Di(e)!==i?Si(e):this},dateIsInGroup:function(e,t){var r=d[t+1];return s.inRange(e,d[t][0],r?r[0]:n,"minutes")},nextSlot:function(e){var t=f[Math.min(f.findIndex(function(t){return t===e||s.eq(t,e)})+1,f.length-1)];return s.eq(t,e)&&(t=s.add(e,r,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(f.length-1,Math.max(0,Math.floor(e*u)));return f[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/n)},closestSlotFromDate:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(s.lt(e,t,"minutes"))return f[0];if(s.gt(e,n,"minutes"))return f[f.length-1];var i=s.diff(t,e,"minutes");return f[(i-i%r)/r+a]},startsBeforeDay:function(e){return s.lt(e,t,"day")},startsAfterDay:function(e){return s.gt(e,n,"day")},startsBefore:function(e){return s.lt(s.merge(t,e),t,"minutes")},startsAfter:function(e){return s.gt(s.merge(n,e),n,"minutes")},getRange:function(e,a,i,o){i||(e=s.min(n,s.max(t,e))),o||(a=s.min(n,s.max(t,a)));var l=y(e),c=y(a),d=c>r*u&&!s.eq(n,a)?(l-r)/(r*u)*100:l/(r*u)*100;return{top:d,height:c/(r*u)*100-d,start:y(e),startDate:e,end:y(a),endDate:a}},getCurrentTimePosition:function(e){return y(e)/(r*u)*100}}}var ki=function(){return lt(function e(t,n){var r=n.accessors,a=n.slotMetrics;it(this,e);var s=a.getRange(r.start(t),r.end(t)),i=s.start,o=s.startDate,l=s.end,c=s.endDate,u=s.top,d=s.height;this.start=i,this.end=l,this.startMs=+o,this.endMs=+c,this.top=u,this.height=d,this.data=t},[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce(function(e,t){return Math.max(e,t.leaves.length+1)},0)+1;return 100/e}return this.leaves?(100-this.container._width)/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var n=this.row.leaves;return n.indexOf(this)===n.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,n=e.xOffset,r=e._width;return n+(t.indexOf(this)+1)*r}}])}();function Ni(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function Ei(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,s=function(e){for(var t=L(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a++){var s=t[a];if(!(r.endMs>s.startMs)){if(a>0){var i=t.splice(a,1)[0];n.push(i)}break}}}return n}(t.map(function(e){return new ki(e,{slotMetrics:r,accessors:a})})),i=[],o=function(){var e=s[l],t=i.find(function(t){return t.end>e.start||Math.abs(e.start-t.start)<n});if(!t)return e.rows=[],i.push(e),1;e.container=t;for(var r=null,a=t.rows.length-1;!r&&a>=0;a--)Ni(t.rows[a],e,n)&&(r=t.rows[a]);r?(r.leaves.push(e),e.row=r):(e.leaves=[],t.rows.push(e))},l=0;l<s.length;l++)o();return s.map(function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}})}function Mi(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var a=Mi(e.friends[r],t,n);t=t>a?t:a}return t}var Oi={overlap:Ei,"no-overlap":function(e){var t=Ei({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort(function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.height!==t.height?e.top+e.height<t.top+t.height?1:-1:0});for(var n=0;n<t.length;++n)t[n].friends=[],delete t[n].style.left,delete t[n].style.left,delete t[n].idx,delete t[n].size;for(var r=0;r<t.length-1;++r)for(var a=t[r],s=a.style.top,i=a.style.top+a.style.height,o=r+1;o<t.length;++o){var l=t[o],c=l.style.top,u=l.style.top+l.style.height;(c>=s&&u<=i||u>s&&u<=i||c>=s&&c<i)&&(a.friends.push(l),l.friends.push(a))}for(var d=0;d<t.length;++d){for(var f=t[d],h=[],m=0;m<100;++m)h.push(1);for(var p=0;p<f.friends.length;++p)void 0!==f.friends[p].idx&&(h[f.friends[p].idx]=0);f.idx=h.indexOf(1)}for(var v=0;v<t.length;++v){var g;if(!t[v].size){var y=[];g=100/(Mi(t[v],0,y)+1),t[v].size=g;for(var w=0;w<y.length;++w)y[w].size=g}}for(var b=0;b<t.length;++b){var x=t[b];x.style.left=x.idx*x.size;for(var _=0,D=0;D<x.friends.length;++D){var S=x.friends[D].idx;_=_>S?_:S}_<=x.idx&&(x.size=100-x.idx*x.size);var k=0===x.idx?0:3;x.style.width="calc(".concat(x.size,"% - ").concat(k,"px)"),x.style.height="calc(".concat(x.style.height,"% - 2px)"),x.style.xOffset="calc(".concat(x.style.left,"% + ").concat(k,"px)")}return t}};var ji=function(){function e(){return it(this,e),dt(this,e,arguments)}return ft(e,r.Component),lt(e,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,r=e.resource,a=e.group,s=e.getters,i=e.components,o=(void 0===i?{}:i).timeSlotWrapper,l=void 0===o?ss:o,c=s?s.slotGroupProp(a):{};return n.createElement("div",Object.assign({className:"rbc-timeslot-group"},c),a.map(function(e,a){var i=s?s.slotProp(e,r):{};return n.createElement(l,{key:a,value:e,resource:r},n.createElement("div",Object.assign({},i,{className:wt("rbc-time-slot",i.className)}),t&&t(e,a)))}))}}])}();function Ti(e){return"string"==typeof e?e:e+"%"}function Ri(e){var t=e.style,r=e.className,a=e.event,s=e.accessors,o=e.rtl,l=e.selected,c=e.label,u=e.continuesPrior,d=e.continuesAfter,f=e.getters,h=e.onClick,m=e.onDoubleClick,p=e.isBackgroundEvent,v=e.onKeyPress,g=e.components,y=g.event,w=g.eventWrapper,b=s.title(a),x=s.tooltip(a),_=s.end(a),D=s.start(a),S=f.eventProp(a,D,_,l),k=[n.createElement("div",{key:"1",className:"rbc-event-label"},c),n.createElement("div",{key:"2",className:"rbc-event-content"},y?n.createElement(y,{event:a,title:b}):b)],N=t.height,E=t.top,M=t.width,O=t.xOffset,j=at(at({},S.style),{},i({top:Ti(E),height:Ti(N),width:Ti(M)},o?"right":"left",Ti(O)));return n.createElement(w,Object.assign({type:"time"},e),n.createElement("div",{role:"button",tabIndex:0,onClick:h,onDoubleClick:m,style:j,onKeyDown:v,title:x?("string"==typeof c?c+": ":"")+x:void 0,className:wt(p?"rbc-background-event":"rbc-event",r,S.className,{"rbc-selected":l,"rbc-event-continues-earlier":u,"rbc-event-continues-later":d})},k))}var Ci=function(e){var t=e.children,r=e.className,a=e.style,s=e.innerRef;return n.createElement("div",{className:r,style:a,ref:s},t)},Pi=n.forwardRef(function(e,t){return n.createElement(Ci,Object.assign({},e,{innerRef:t}))}),Yi=["dayProp"],Ai=["eventContainerWrapper","timeIndicatorWrapper"],Li=function(){function e(){var t;it(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=dt(this,e,[].concat(s))).state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(e){var r=e.events,a=e.isBackgroundEvent,s=t.props,i=s.rtl,o=s.selected,l=s.accessors,c=s.localizer,u=s.getters,d=s.components,f=s.step,h=s.timeslots,m=s.dayLayoutAlgorithm,p=s.resizable,v=t.slotMetrics,g=c.messages,y=function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t,n=e.dayLayoutAlgorithm,r=n;return n in Oi&&(r=Oi[n]),(t=r)&&t.constructor&&t.call&&t.apply?r.apply(this,arguments):[]}({events:r,accessors:l,slotMetrics:v,minimumStartDifference:Math.ceil(f*h/2),dayLayoutAlgorithm:m});return y.map(function(e,r){var s,f,h=e.event,m=e.style,y=l.end(h),w=l.start(h),b=null!==(s=l.eventId(h))&&void 0!==s?s:"evt_"+r,x="eventTimeRangeFormat",_=v.startsBeforeDay(w),D=v.startsAfterDay(y);_?x="eventTimeRangeEndFormat":D&&(x="eventTimeRangeStartFormat"),f=_&&D?g.allDay:c.format({start:w,end:y},x);var S=_||v.startsBefore(w),k=D||v.startsAfter(y);return n.createElement(Ri,{style:m,event:h,label:f,key:b,getters:u,rtl:i,components:d,continuesPrior:S,continuesAfter:k,accessors:l,resource:t.props.resource,selected:Hs(h,o),onClick:function(e){return t._select(at(at(at({},h),t.props.resource&&{sourceResource:t.props.resource}),a&&{isBackgroundEvent:!0}),e)},onDoubleClick:function(e){return t._doubleClick(h,e)},isBackgroundEvent:a,onKeyPress:function(e){return t._keyPress(h,e)},resizable:p})})},t._selectable=function(){var e=t.containerRef.current,n=t.props,r=n.longPressThreshold,a=n.localizer,s=t._selector=new Js(function(){return e},{longPressThreshold:r}),i=function(e){var n=t.props.onSelecting,r=t.state||{},s=o(e),i=s.startDate,l=s.endDate;n&&(a.eq(r.startDate,i,"minutes")&&a.eq(r.endDate,l,"minutes")||!1===n({start:i,end:l,resourceId:t.props.resource}))||t.state.start===s.start&&t.state.end===s.end&&t.state.selecting===s.selecting||t.setState(s)},o=function(n){var r=t.slotMetrics.closestSlotFromPoint(n,ei(e));t.state.selecting||(t._initialSlot=r);var s=t._initialSlot;a.lte(s,r)?r=t.slotMetrics.nextSlot(r):a.gt(s,r)&&(s=t.slotMetrics.nextSlot(s));var i=t.slotMetrics.getRange(a.min(s,r),a.max(s,r));return at(at({},i),{},{selecting:!0,top:"".concat(i.top,"%"),height:"".concat(i.height,"%")})},l=function(e,n){if(!Zs(t.containerRef.current,e)){var r=o(e),a=r.startDate,s=r.endDate;t._selectSlot({startDate:a,endDate:s,action:n,box:e})}t.setState({selecting:!1})};s.on("selecting",i),s.on("selectStart",i),s.on("beforeSelect",function(e){if("ignoreEvents"===t.props.selectable)return!Zs(t.containerRef.current,e)}),s.on("click",function(e){return l(e,"click")}),s.on("doubleClick",function(e){return l(e,"doubleClick")}),s.on("select",function(e){t.state.selecting&&(t._selectSlot(at(at({},t.state),{},{action:"select",bounds:e})),t.setState({selecting:!1}))}),s.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(e){for(var n=e.startDate,r=e.endDate,a=e.action,s=e.bounds,i=e.box,o=n,l=[];t.props.localizer.lte(o,r);)l.push(o),o=new Date(+o+60*t.props.step*1e3);Ls(t.props.onSelectSlot,{slots:l,start:n,end:r,resourceId:t.props.resource,action:a,bounds:s,box:i})},t._select=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ls(t.props.onSelectEvent,n)},t._doubleClick=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ls(t.props.onDoubleClickEvent,n)},t._keyPress=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ls(t.props.onKeyPressEvent,n)},t.slotMetrics=Si(t.props),t.containerRef=r.createRef(),t}return ft(e,n.Component),lt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(e,t){this.props.selectable&&!e.selectable&&this._selectable(),!this.props.selectable&&e.selectable&&this._teardownSelectable();var n=this.props,r=n.getNow,a=n.isNow,s=n.localizer,i=n.date,o=n.min,l=n.max,c=s.neq(e.getNow(),r(),"minutes");if(e.isNow!==a||c){if(this.clearTimeIndicatorInterval(),a){var u=!c&&s.eq(e.date,i,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(u)}}else a&&(s.neq(e.min,o,"minutes")||s.neq(e.max,l,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,n=e.max,r=(0,e.getNow)();if(r>=t&&r<=n){var a=this.slotMetrics.getCurrentTimePosition(r);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:a})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,t=e.date,r=e.max,a=e.rtl,s=e.isNow,i=e.resource,o=e.accessors,l=e.localizer,c=e.getters,u=c.dayProp,d=st(c,Yi),f=e.components,h=f.eventContainerWrapper,m=f.timeIndicatorWrapper,p=st(f,Ai);this.slotMetrics=this.slotMetrics.update(this.props);var v=this.slotMetrics,g=this.state,y=g.selecting,w=g.top,b=g.height,x={start:g.startDate,end:g.endDate},_=u(r,i),D=_.className,S=_.style,k={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},N=p.dayColumnWrapper||Pi;return n.createElement(N,{ref:this.containerRef,date:t,style:S,className:wt(D,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",y&&"rbc-slot-selecting"),slotMetrics:v,resource:i},v.groups.map(function(e,t){return n.createElement(ji,{key:t,group:e,resource:i,getters:d,components:p})}),n.createElement(h,{localizer:l,resource:i,accessors:o,getters:d,components:p,slotMetrics:v},n.createElement("div",{className:wt("rbc-events-container",a&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),y&&n.createElement("div",{className:"rbc-slot-selection",style:{top:w,height:b}},n.createElement("span",null,l.format(x,"selectRangeFormat"))),s&&this.intervalTriggered&&n.createElement(m,k,n.createElement("div",k)))}}])}();Li.defaultProps={dragThroughEvents:!0,timeslots:2};var Wi=function(e){var t=e.label;return n.createElement(n.Fragment,null,t)},zi=function(){function e(){var t;it(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=dt(this,e,[].concat(a))).handleHeaderClick=function(e,n,r){r.preventDefault(),Ls(t.props.onDrillDown,[e,n])},t.renderRow=function(e){var r=t.props,a=r.events,s=r.rtl,i=r.selectable,o=r.getNow,l=r.range,c=r.getters,u=r.localizer,d=r.accessors,f=r.components,h=r.resizable,m=d.resourceId(e),p=e?a.filter(function(e){return d.resource(e)===m}):a;return n.createElement(yi,{isAllDay:!0,rtl:s,getNow:o,minRows:2,maxRows:t.props.allDayMaxRows+1,range:l,events:p,resourceId:m,className:"rbc-allday-cell",selectable:i,selected:t.props.selected,components:f,accessors:d,getters:c,localizer:u,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:h})},t}return ft(e,n.Component),lt(e,[{key:"renderHeaderCells",value:function(e){var t=this,r=this.props,a=r.localizer,s=r.getDrilldownView,i=r.getNow,o=r.getters.dayProp,l=r.components.header,c=void 0===l?wi:l,u=i();return e.map(function(e,r){var i=s(e),l=a.format(e,"dayFormat"),d=o(e),f=d.className,h=d.style,m=n.createElement(c,{date:e,label:l,localizer:a});return n.createElement("div",{key:r,style:h,className:wt("rbc-header",f,a.isSameDate(e,u)&&"rbc-today")},i?n.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(n){return t.handleHeaderClick(e,i,n)}},m):n.createElement("span",null,m))})}},{key:"render",value:function(){var e=this,t=this.props,r=t.width,a=t.rtl,s=t.resources,i=t.range,o=t.events,l=t.getNow,c=t.accessors,u=t.selectable,d=t.components,f=t.getters,h=t.scrollRef,m=t.localizer,p=t.isOverflowing,v=t.components,g=v.timeGutterHeader,y=v.resourceHeader,w=void 0===y?Wi:y,b=t.resizable,x={};p&&(x[a?"marginLeft":"marginRight"]="".concat(Na()-1,"px"));var _=s.groupEvents(o);return n.createElement("div",{style:x,ref:h,className:wt("rbc-time-header",p&&"rbc-overflowing")},n.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:r,minWidth:r,maxWidth:r}},g&&n.createElement(g,null)),s.map(function(t,r){var s=gt(t,2),o=s[0],h=s[1];return n.createElement("div",{className:"rbc-time-header-content",key:o||r},h&&n.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(r)},n.createElement("div",{className:"rbc-header"},n.createElement(w,{index:r,label:c.resourceTitle(h),resource:h}))),n.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(i.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(i)),n.createElement(yi,{isAllDay:!0,rtl:a,getNow:l,minRows:2,maxRows:e.props.allDayMaxRows+1,range:i,events:_.get(o)||[],resourceId:h&&o,className:"rbc-allday-cell",selectable:u,selected:e.props.selected,components:d,accessors:c,getters:f,localizer:m,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyDown:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:b}))}))}}])}(),Fi=function(){function e(){var t;it(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=dt(this,e,[].concat(r))).handleHeaderClick=function(e,n,r){r.preventDefault(),Ls(t.props.onDrillDown,[e,n])},t}return ft(e,n.Component),lt(e,[{key:"renderHeaderCells",value:function(e){var t=this,r=this.props,a=r.localizer,s=r.getDrilldownView,i=r.getNow,o=r.getters.dayProp,l=r.components,c=l.header,u=void 0===c?wi:c,d=l.resourceHeader,f=void 0===d?Wi:d,h=r.resources,m=r.accessors,p=r.events,v=r.rtl,g=r.selectable,y=r.components,w=r.getters,b=r.resizable,x=i(),_=h.groupEvents(p);return e.map(function(r,l){var c=s(r),d=a.format(r,"dayFormat"),p=o(r),D=p.className,S=p.style,k=n.createElement(u,{date:r,label:d,localizer:a});return n.createElement("div",{key:l,className:"rbc-time-header-content rbc-resource-grouping"},n.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(e.length<=1?" rbc-time-header-cell-single-day":"")},n.createElement("div",{style:S,className:wt("rbc-header",D,a.isSameDate(r,x)&&"rbc-today")},c?n.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(e){return t.handleHeaderClick(r,c,e)}},k):n.createElement("span",null,k))),n.createElement("div",{className:"rbc-row"},h.map(function(e,t){var s=gt(e,2),i=s[0],o=s[1];return n.createElement("div",{key:"resource_".concat(i,"_").concat(t),className:wt("rbc-header",D,a.isSameDate(r,x)&&"rbc-today")},n.createElement(f,{index:t,label:m.resourceTitle(o),resource:o}))})),n.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},h.map(function(e,s){var o=gt(e,2),l=o[0],c=o[1],u=(_.get(l)||[]).filter(function(e){return a.isSameDate(e.start,r)||a.isSameDate(e.end,r)});return n.createElement(yi,{key:"resource_".concat(l,"_").concat(s),isAllDay:!0,rtl:v,getNow:i,minRows:2,maxRows:t.props.allDayMaxRows+1,range:[r],events:u,resourceId:c&&l,className:"rbc-allday-cell",selectable:g,selected:t.props.selected,components:y,accessors:m,getters:w,localizer:a,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyDown:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:b})})))})}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.rtl,a=e.range,s=e.scrollRef,i=e.isOverflowing,o=e.components.timeGutterHeader,l={};return i&&(l[r?"marginLeft":"marginRight"]="".concat(Na()-1,"px")),n.createElement("div",{style:l,ref:s,className:wt("rbc-time-header",i&&"rbc-overflowing")},n.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:t,minWidth:t,maxWidth:t}},o&&n.createElement(o,null)),this.renderHeaderCells(a))}}])}();var Hi=function(e){var t=e.min,a=e.max,s=e.timeslots,i=e.step,o=e.localizer,l=e.getNow,c=e.resource,u=e.components,d=e.getters,f=e.gutterRef,h=u.timeGutterWrapper,m=r.useMemo(function(){return function(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}({min:t,max:a,localizer:o})},[null==t?void 0:t.toISOString(),null==a?void 0:a.toISOString(),o]),p=m.start,v=m.end,g=gt(r.useState(Si({min:p,max:v,timeslots:s,step:i,localizer:o})),2),y=g[0],w=g[1];r.useEffect(function(){y&&w(y.update({min:p,max:v,timeslots:s,step:i,localizer:o}))},[null==p?void 0:p.toISOString(),null==v?void 0:v.toISOString(),s,i]);var b=r.useCallback(function(e,t){if(t)return null;var r=y.dateIsInGroup(l(),t);return n.createElement("span",{className:wt("rbc-label",r&&"rbc-now")},o.format(e,"timeGutterFormat"))},[y,o,l]);return n.createElement(h,{slotMetrics:y},n.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},y.groups.map(function(e,t){return n.createElement(ji,{key:t,group:e,resource:c,components:u,renderSlot:b,getters:d})})))},Ii=n.forwardRef(function(e,t){return n.createElement(Hi,Object.assign({gutterRef:t},e))}),Ui={};var Vi=function(){function e(t){var a;return it(this,e),(a=dt(this,e,[t])).handleScroll=function(e){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=e.target.scrollLeft)},a.handleResize=function(){Un(a.rafHandle),a.rafHandle=Vn(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ls(a.props.onKeyPressEvent,t)},a.handleSelectEvent=function(){a.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ls(a.props.onSelectEvent,t)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ls(a.props.onDoubleClickEvent,t)},a.handleShowMore=function(e,t,n,r,s){var i=a.props,o=i.popup,l=i.onDrillDown,c=i.onShowMore,u=i.getDrilldownView,d=i.doShowMoreDrillDown;if(a.clearSelection(),o){var f=An(n,a.containerRef.current);a.setState({overlay:{date:t,events:e,position:at(at({},f),{},{width:"200px"}),target:s}})}else d&&Ls(l,[t,u(t)||us.DAY]);Ls(c,[e,t,r])},a.handleSelectAllDaySlot=function(e,t){var n=a.props.onSelectSlot,r=new Date(e[0]),s=new Date(e[e.length-1]);s.setDate(e[e.length-1].getDate()+1),Ls(n,{slots:e,start:r,end:s,action:t.action,resourceId:t.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var e=a.contentRef.current;if(null!=e&&e.scrollHeight){var t=e.scrollHeight>e.clientHeight;a.state.isOverflowing!==t&&(a._updatingOverflow=!0,a.setState({isOverflowing:t},function(){a._updatingOverflow=!1}))}}},a.memoizedResources=Wa(function(e,t){return function(e,t){return{map:function(n){return e?e.map(function(e,r){return n([t.resourceId(e),e],r)}):[n([Ui,null],0)]},groupEvents:function(n){var r=new Map;return e?(n.forEach(function(e){var n=t.resource(e)||Ui;if(Array.isArray(n))n.forEach(function(t){var n=r.get(t)||[];n.push(e),r.set(t,n)});else{var a=r.get(n)||[];a.push(e),r.set(n,a)}}),r):(r.set(Ui,n),r)}}}(e,t)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=n.createRef(),a.contentRef=n.createRef(),a.containerRef=n.createRef(),a._scrollRatio=null,a.gutterRef=r.createRef(),a}return ft(e,r.Component),lt(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){null==this.props.width&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Un(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(e,t,r,a,s,i,o,l,c,u){var d=this.props,f=d.min,h=d.max,m=(a.get(t)||[]).filter(function(t){return i.inRange(e,o.start(t),o.end(t),"day")}),p=(s.get(t)||[]).filter(function(t){return i.inRange(e,o.start(t),o.end(t),"day")});return n.createElement(Li,Object.assign({},this.props,{localizer:i,min:i.merge(e,f),max:i.merge(e,h),resource:r&&t,components:l,isNow:i.isSameDate(e,u),key:"".concat(t,"-").concat(e),date:e,events:m,backgroundEvents:p,dayLayoutAlgorithm:c}))}},{key:"renderResourcesFirst",value:function(e,t,n,r,a,s,i,o,l){var c=this;return t.map(function(t){var u=gt(t,2),d=u[0],f=u[1];return e.map(function(e){return c.renderDayColumn(e,d,f,n,r,a,s,o,l,i)})})}},{key:"renderRangeFirst",value:function(e,t,r,a,s,i,o,l,c){var u=this;return e.map(function(e){return n.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:e},t.map(function(t){var d=gt(t,2),f=d[0],h=d[1];return n.createElement("div",{style:{flex:1},key:i.resourceId(h)},u.renderDayColumn(e,f,h,r,a,s,i,l,c,o))}))})}},{key:"renderEvents",value:function(e,t,n,r){var a=this.props,s=a.accessors,i=a.localizer,o=a.resourceGroupingLayout,l=a.components,c=a.dayLayoutAlgorithm,u=this.memoizedResources(this.props.resources,s),d=u.groupEvents(t),f=u.groupEvents(n);return o?this.renderRangeFirst(e,u,d,f,i,s,r,l,c):this.renderResourcesFirst(e,u,d,f,i,s,r,l,c)}},{key:"render",value:function(){var e,t=this.props,r=t.events,a=t.backgroundEvents,s=t.range,i=t.width,o=t.rtl,l=t.selected,c=t.getNow,u=t.resources,d=t.components,f=t.accessors,h=t.getters,m=t.localizer,p=t.min,v=t.max,g=t.showMultiDayTimes,y=t.longPressThreshold,w=t.resizable,b=t.resourceGroupingLayout;i=i||this.state.gutterWidth;var x=s[0],_=s[s.length-1];this.slots=s.length;var D=[],S=[],k=[];r.forEach(function(e){if(ci(e,x,_,f,m)){var t=f.start(e),n=f.end(e);f.allDay(e)||m.startAndEndAreDateOnly(t,n)||!g&&!m.isSameDate(t,n)?D.push(e):S.push(e)}}),a.forEach(function(e){ci(e,x,_,f,m)&&k.push(e)}),D.sort(function(e,t){return di(e,t,f,m)});var N={range:s,events:D,width:i,rtl:o,getNow:c,localizer:m,selected:l,allDayMaxRows:this.props.showAllEvents?1/0:null!==(e=this.props.allDayMaxRows)&&void 0!==e?e:1/0,resources:this.memoizedResources(u,f),selectable:this.props.selectable,accessors:f,getters:h,components:d,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:y,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:w};return n.createElement("div",{className:wt("rbc-time-view",u&&"rbc-time-view-resources"),ref:this.containerRef},u&&u.length>1&&b?n.createElement(Fi,N):n.createElement(zi,N),this.props.popup&&this.renderOverlay(),n.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},n.createElement(Ii,{date:x,ref:this.gutterRef,localizer:m,min:m.merge(x,p),max:m.merge(x,v),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:d,className:"rbc-time-gutter",getters:h}),this.renderEvents(s,S,k,c())))}},{key:"renderOverlay",value:function(){var e,t,r=this,a=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},s=this.props,i=s.accessors,o=s.localizer,l=s.components,c=s.getters,u=s.selected,d=s.popupOffset,f=s.handleDragStart;return n.createElement(Bs,{overlay:a,accessors:i,localizer:o,components:l,getters:c,selected:u,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:f,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:function(){return r.setState({overlay:null})}})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var t,n=null!==(t=e.gutterRef)&&void 0!==t&&t.current?za(e.gutterRef.current):void 0;n&&e.state.gutterWidth!==n&&e.setState({gutterWidth:n})})}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,n=e.max,r=e.scrollToTime,a=e.localizer,s=a.diff(a.merge(r,t),r,"milliseconds"),i=a.diff(t,n,"milliseconds");this._scrollRatio=s/i}}])}();Vi.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Gi=["date","localizer","min","max","scrollToTime","enableAutoScroll"],qi=function(){function e(){return it(this,e),dt(this,e,arguments)}return ft(e,n.Component),lt(e,[{key:"render",value:function(){var t=this.props,r=t.date,a=t.localizer,s=t.min,i=void 0===s?a.startOf(new Date,"day"):s,o=t.max,l=void 0===o?a.endOf(new Date,"day"):o,c=t.scrollToTime,u=void 0===c?a.startOf(new Date,"day"):c,d=t.enableAutoScroll,f=void 0===d||d,h=st(t,Gi),m=e.range(r,{localizer:a});return n.createElement(Vi,Object.assign({},h,{range:m,eventOffset:10,localizer:a,min:i,max:l,scrollToTime:u,enableAutoScroll:f}))}}])}();qi.range=function(e,t){return[t.localizer.startOf(e,"day")]},qi.navigate=function(e,t,n){var r=n.localizer;switch(t){case is:return r.add(e,-1,"day");case os:return r.add(e,1,"day");default:return e}},qi.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var Bi=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ki=function(){function e(){return it(this,e),dt(this,e,arguments)}return ft(e,n.Component),lt(e,[{key:"render",value:function(){var t=this.props,r=t.date,a=t.localizer,s=t.min,i=void 0===s?a.startOf(new Date,"day"):s,o=t.max,l=void 0===o?a.endOf(new Date,"day"):o,c=t.scrollToTime,u=void 0===c?a.startOf(new Date,"day"):c,d=t.enableAutoScroll,f=void 0===d||d,h=st(t,Bi),m=e.range(r,this.props);return n.createElement(Vi,Object.assign({},h,{range:m,eventOffset:15,localizer:a,min:i,max:l,scrollToTime:u,enableAutoScroll:f}))}}])}();Ki.defaultProps=Vi.defaultProps,Ki.navigate=function(e,t,n){var r=n.localizer;switch(t){case is:return r.add(e,-1,"week");case os:return r.add(e,1,"week");default:return e}},Ki.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),a=n.startOf(e,"week",r),s=n.endOf(e,"week",r);return n.range(a,s)},Ki.title=function(e,t){var n=t.localizer,r=Fa(Ki.range(e,{localizer:n})),a=r[0],s=r.slice(1);return n.format({start:a,end:s.pop()},"dayRangeHeaderFormat")};var Zi=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function $i(e,t){return Ki.range(e,t).filter(function(e){return-1===[6,0].indexOf(e.getDay())})}var Xi=function(){function e(){return it(this,e),dt(this,e,arguments)}return ft(e,n.Component),lt(e,[{key:"render",value:function(){var e=this.props,t=e.date,r=e.localizer,a=e.min,s=void 0===a?r.startOf(new Date,"day"):a,i=e.max,o=void 0===i?r.endOf(new Date,"day"):i,l=e.scrollToTime,c=void 0===l?r.startOf(new Date,"day"):l,u=e.enableAutoScroll,d=void 0===u||u,f=st(e,Zi),h=$i(t,this.props);return n.createElement(Vi,Object.assign({},f,{range:h,eventOffset:15,localizer:r,min:s,max:o,scrollToTime:c,enableAutoScroll:d}))}}])}();Xi.defaultProps=Vi.defaultProps,Xi.range=$i,Xi.navigate=Ki.navigate,Xi.title=function(e,t){var n=t.localizer,r=Fa($i(e,{localizer:n})),a=r[0],s=r.slice(1);return n.format({start:a,end:s.pop()},"dayRangeHeaderFormat")};function Ji(e){var t=e.accessors,a=e.components,s=e.date,i=e.events,o=e.getters,l=e.length,c=void 0===l?30:l,u=e.localizer,d=e.onDoubleClickEvent,f=e.onSelectEvent,h=e.selected,m=r.useRef(null),p=r.useRef(null),v=r.useRef(null),g=r.useRef(null),y=r.useRef(null);r.useEffect(function(){b()});var w=function(e,r){var s="",i=a.time,o=u.messages.allDay,l=t.end(r),c=t.start(r);return t.allDay(r)||(u.eq(c,l)?o=u.format(c,"agendaTimeFormat"):u.isSameDate(c,l)?o=u.format({start:c,end:l},"agendaTimeRangeFormat"):u.isSameDate(e,c)?o=u.format(c,"agendaTimeFormat"):u.isSameDate(e,l)&&(o=u.format(l,"agendaTimeFormat"))),u.gt(e,c,"day")&&(s="rbc-continues-prior"),u.lt(e,l,"day")&&(s+=" rbc-continues-after"),n.createElement("span",{className:s.trim()},i?n.createElement(i,{event:r,day:e,label:o}):o)},b=function(){if(y.current){var e=m.current,t=y.current.firstChild;if(t){var n=g.current.scrollHeight>g.current.clientHeight,r=[],a=r;r=[za(t.children[0]),za(t.children[1])],a[0]===r[0]&&a[1]===r[1]||(p.current.style.width=r[0]+"px",v.current.style.width=r[1]+"px"),n?(C(e,"rbc-header-overflowing"),e.style.marginRight=Na()+"px"):P(e,"rbc-header-overflowing")}}},x=u.messages,_=u.add(s,c,"day"),D=u.range(s,_,"day");return(i=i.filter(function(e){return ci(e,u.startOf(s,"day"),u.endOf(_,"day"),t,u)})).sort(function(e,n){return+t.start(e)-+t.start(n)}),n.createElement("div",{className:"rbc-agenda-view"},0!==i.length?n.createElement(n.Fragment,null,n.createElement("table",{ref:m,className:"rbc-agenda-table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{className:"rbc-header",ref:p},x.date),n.createElement("th",{className:"rbc-header",ref:v},x.time),n.createElement("th",{className:"rbc-header"},x.event)))),n.createElement("div",{className:"rbc-agenda-content",ref:g},n.createElement("table",{className:"rbc-agenda-table"},n.createElement("tbody",{ref:y},D.map(function(e,r){return function(e,r,s){var i=a.event,l=a.date;return r=r.filter(function(n){return ci(n,u.startOf(e,"day"),u.endOf(e,"day"),t,u)}),r.map(function(a,c){var m=t.title(a),p=t.end(a),v=t.start(a),g=o.eventProp(a,v,p,Hs(a,h)),y=0===c&&u.format(e,"agendaDateFormat"),b=0===c&&n.createElement("td",{rowSpan:r.length,className:"rbc-agenda-date-cell"},l?n.createElement(l,{day:e,label:y}):y);return n.createElement("tr",{key:s+"_"+c,className:g.className,style:g.style},b,n.createElement("td",{className:"rbc-agenda-time-cell"},w(e,a)),n.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return f&&f(a,e)},onDoubleClick:function(e){return d&&d(a,e)}},i?n.createElement(i,{event:a,title:m}):m))},[])}(e,i,r)}))))):n.createElement("span",{className:"rbc-agenda-empty"},x.noEventsInRange))}Ji.range=function(e,t){var n=t.length,r=void 0===n?30:n;return{start:e,end:t.localizer.add(e,r,"day")}},Ji.navigate=function(e,t,n){var r=n.length,a=void 0===r?30:r,s=n.localizer;switch(t){case is:return s.add(e,-a,"day");case os:return s.add(e,a,"day");default:return e}},Ji.title=function(e,t){var n=t.length,r=void 0===n?30:n,a=t.localizer,s=a.add(e,r,"day");return a.format({start:e,end:s},"agendaHeaderFormat")};var Qi=i(i(i(i(i({},us.MONTH,_i),us.WEEK,Ki),us.WORK_WEEK,Xi),us.DAY,qi),us.AGENDA,Ji),eo=["action","date","today"];var to=function(e){return function(t){return function(e,t){var n=null;return"function"==typeof t?n=t(e):"string"==typeof t&&"object"===W(e)&&null!=e&&t in e&&(n=e[t]),n}(t,e)}},no=["view","date","getNow","onNavigate"],ro=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function ao(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=gt(r[n],2),s=a[0];a[1]&&t.push(s)}return t}var so=function(){function e(){var t;it(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=dt(this,e,[].concat(r))).getViews=function(){var e=t.props.views;return Array.isArray(e)?as(e,function(e,t){return e[t]=Qi[t]},{}):"object"===W(e)?Y(e,function(e,t){return!0===e?Qi[t]:e}):Qi},t.getView=function(){return t.getViews()[t.props.view]},t.getDrilldownView=function(e){var n=t.props,r=n.view,a=n.drilldownView,s=n.getDrilldownView;return s?s(e,r,Object.keys(t.getViews())):a},t.handleRangeChange=function(e,n,r){var a=t.props,s=a.onRangeChange,i=a.localizer;s&&n.range&&s(n.range(e,{localizer:i}),r)},t.handleNavigate=function(e,n){var r=t.props,a=r.view,s=r.date,i=r.getNow,o=r.onNavigate,l=st(r,no),c=t.getView(),u=i();s=function(e,t){var n=t.action,r=t.date,a=t.today,s=st(t,eo);switch(e="string"==typeof e?Qi[e]:e,n){case ls:r=a||new Date;break;case cs:break;default:xt(e&&"function"==typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,s)}return r}(c,at(at({},l),{},{action:e,date:n||s||u,today:u})),o(s,a,e),t.handleRangeChange(s,c)},t.handleViewChange=function(e){e!==t.props.view&&function(e,t){return-1!==ao(t.views).indexOf(e)}(e,t.props)&&t.props.onView(e);var n=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),n[e],e)},t.handleSelectEvent=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ls(t.props.onSelectEvent,n)},t.handleDoubleClickEvent=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ls(t.props.onDoubleClickEvent,n)},t.handleKeyPressEvent=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ls(t.props.onKeyPressEvent,n)},t.handleSelectSlot=function(e){Ls(t.props.onSelectSlot,e)},t.handleDrillDown=function(e,n){var r=t.props.onDrillDown;r?r(e,n,t.drilldownView):(n&&t.handleViewChange(n),t.handleNavigate(cs,e))},t.state={context:e.getContext(t.props)},t}return ft(e,n.Component),lt(e,[{key:"render",value:function(){var e=this.props,t=e.view,r=e.toolbar,a=e.events,s=e.backgroundEvents,i=e.resourceGroupingLayout,o=e.style,l=e.className,c=e.elementProps,u=e.date,d=e.getNow,f=e.length,h=e.showMultiDayTimes,m=e.onShowMore,p=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var v=st(e,ro);u=u||d();var g=this.getView(),y=this.state.context,w=y.accessors,b=y.components,x=y.getters,_=y.localizer,D=y.viewNames,S=b.toolbar||As,k=g.title(u,{localizer:_,length:f});return n.createElement("div",Object.assign({},c,{className:wt(l,"rbc-calendar",v.rtl&&"rbc-rtl"),style:o}),r&&n.createElement(S,{date:u,view:t,views:D,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),n.createElement(g,Object.assign({},v,{events:a,backgroundEvents:s,date:u,getNow:d,length:f,localizer:_,getters:x,components:b,accessors:w,showMultiDayTimes:h,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:m,doShowMoreDrillDown:p,resourceGroupingLayout:i})))}}],[{key:"getDerivedStateFromProps",value:function(t){return{context:e.getContext(t)}}},{key:"getContext",value:function(e){var t=e.startAccessor,n=e.endAccessor,r=e.allDayAccessor,a=e.tooltipAccessor,s=e.titleAccessor,i=e.resourceAccessor,o=e.resourceIdAccessor,l=e.resourceTitleAccessor,c=e.eventIdAccessor,u=e.eventPropGetter,d=e.backgroundEventPropGetter,f=e.slotPropGetter,h=e.slotGroupPropGetter,m=e.dayPropGetter,p=e.view,v=e.views,g=e.localizer,y=e.culture,w=e.messages,b=void 0===w?{}:w,x=e.components,_=void 0===x?{}:x,D=e.formats,S=void 0===D?{}:D,k=ao(v);return{viewNames:k,localizer:Ys(g,y,S,function(e){return at(at({},Ws),e)}(b)),getters:{eventProp:function(){return u&&u.apply(void 0,arguments)||{}},backgroundEventProp:function(){return d&&d.apply(void 0,arguments)||{}},slotProp:function(){return f&&f.apply(void 0,arguments)||{}},slotGroupProp:function(){return h&&h.apply(void 0,arguments)||{}},dayProp:function(){return m&&m.apply(void 0,arguments)||{}}},components:Ba(_[p]||{},R(_,k),{eventWrapper:ss,backgroundEventWrapper:ss,eventContainerWrapper:ss,dateCellWrapper:ss,weekWrapper:ss,timeSlotWrapper:ss,timeGutterWrapper:ss,timeIndicatorWrapper:ss}),accessors:{start:to(t),end:to(n),allDay:to(r),tooltip:to(a),title:to(s),resource:to(i),resourceId:to(o),resourceTitle:to(l),eventId:to(c)}}}}])}();so.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:us.MONTH,views:[us.MONTH,us.WEEK,us.DAY,us.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:us.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var io,oo,lo=function e(t,r,a){void 0===a&&(a=[]);var s,i=t.displayName||t.name||"Component",o=!!(s=t)&&("function"!=typeof s||s.prototype&&s.prototype.isReactComponent),c=Object.keys(r),u=c.map(St);!o&&a.length&&xt(!1);var h=function(e){function s(){for(var t,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];(t=e.call.apply(e,[this].concat(s))||this).handlers=Object.create(null),c.forEach(function(e){var n=r[e];t.handlers[n]=function(r){if(t.props[n]){var a;t._notifying=!0;for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];(a=t.props)[n].apply(a,[r].concat(i)),t._notifying=!1}t.unmounted||t.setState(function(t){var n,a=t.values;return{values:f(Object.create(null),a,(n={},n[e]=r,n))}})}}),a.length&&(t.attachRef=function(e){t.inner=e});var o=Object.create(null);return c.forEach(function(e){o[e]=t.props[St(e)]}),t.state={values:o,prevProps:{}},t}d(s,e);var i=s.prototype;return i.shouldComponentUpdate=function(){return!this._notifying},s.getDerivedStateFromProps=function(e,t){var n=t.values,r=t.prevProps,a={values:f(Object.create(null),n),prevProps:{}};return c.forEach(function(t){a.prevProps[t]=e[t],!Dt(e,t)&&Dt(r,t)&&(a.values[t]=e[St(t)])}),a},i.componentWillUnmount=function(){this.unmounted=!0},i.render=function(){var e=this,r=this.props,a=r.innerRef,s=l(r,["innerRef"]);u.forEach(function(e){delete s[e]});var i={};return c.forEach(function(t){var n=e.props[t];i[t]=void 0!==n?n:e.state.values[t]}),n.createElement(t,f({},s,i,this.handlers,{ref:a||this.attachRef}))},s}(n.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,a=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?a="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==a){var s=e.displayName||e.name,i="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=kt,t.componentWillReceiveProps=Nt),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Et;var o=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;o.call(this,e,t,r)}}}(h),h.displayName="Uncontrolled("+i+")",h.propTypes=f({innerRef:function(){}},function(e){var t={};return Object.keys(e).forEach(function(e){t[St(e)]=_t}),t}(r)),a.forEach(function(e){h.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}});var m=h;return n.forwardRef&&((m=n.forwardRef(function(e,t){return n.createElement(h,f({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))})).propTypes=h.propTypes),m.ControlledComponent=t,m.deferControlTo=function(t,n,a){return void 0===n&&(n={}),e(t,f({},r,n),a)},m}(so,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),co=function(e,t,n){var r=e.start,a=e.end;return n.format(r,"LT",t)+" – "+n.format(a,"LT",t)},uo={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:co,eventTimeRangeFormat:co,eventTimeRangeStartFormat:function(e,t,n){var r=e.start;return n.format(r,"LT",t)+" – "},eventTimeRangeEndFormat:function(e,t,n){var r=e.end;return" – "+n.format(r,"LT",t)},timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:function(e,t,n){var r=e.start,a=e.end;return n.format(r,"MMMM DD",t)+" – "+n.format(a,n.eq(r,a,"month")?"DD":"MMMM DD",t)},agendaHeaderFormat:function(e,t,n){var r=e.start,a=e.end;return n.format(r,"L",t)+" – "+n.format(a,"L",t)},agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:co};function fo(e){var t=e?e.toLowerCase():e;return"FullYear"===t?t="year":t||(t=void 0),t}function ho(){return io.apply(null,arguments)}function mo(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function po(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function vo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function go(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(vo(e,t))return!1;return!0}function yo(e){return void 0===e}function wo(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function bo(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function xo(e,t){var n,r=[],a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function _o(e,t){for(var n in t)vo(t,n)&&(e[n]=t[n]);return vo(t,"toString")&&(e.toString=t.toString),vo(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Do(e,t,n,r){return Vc(e,t,n,r,!0).utc()}function So(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function ko(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());return r&&(t=So(e),n=oo.call(t.parsedDateParts,function(e){return null!=e}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?r:(e._isValid=r,e._isValid)}function No(e){var t=Do(NaN);return null!=e?_o(So(t),e):So(t).userInvalidated=!0,t}oo=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var Eo=ho.momentProperties=[],Mo=!1;function Oo(e,t){var n,r,a,s=Eo.length;if(yo(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),yo(t._i)||(e._i=t._i),yo(t._f)||(e._f=t._f),yo(t._l)||(e._l=t._l),yo(t._strict)||(e._strict=t._strict),yo(t._tzm)||(e._tzm=t._tzm),yo(t._isUTC)||(e._isUTC=t._isUTC),yo(t._offset)||(e._offset=t._offset),yo(t._pf)||(e._pf=So(t)),yo(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)yo(a=t[r=Eo[n]])||(e[r]=a);return e}function jo(e){Oo(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Mo&&(Mo=!0,ho.updateOffset(this),Mo=!1)}function To(e){return e instanceof jo||null!=e&&null!=e._isAMomentObject}function Ro(e){!1===ho.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Co(e,t){var n=!0;return _o(function(){if(null!=ho.deprecationHandler&&ho.deprecationHandler(null,e),n){var r,a,s,i=[],o=arguments.length;for(a=0;a<o;a++){if(r="","object"==typeof arguments[a]){for(s in r+="\n["+a+"] ",arguments[0])vo(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[a];i.push(r)}Ro(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var Po,Yo={};function Ao(e,t){null!=ho.deprecationHandler&&ho.deprecationHandler(e,t),Yo[e]||(Ro(t),Yo[e]=!0)}function Lo(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Wo(e,t){var n,r=_o({},e);for(n in t)vo(t,n)&&(po(e[n])&&po(t[n])?(r[n]={},_o(r[n],e[n]),_o(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)vo(e,n)&&!vo(t,n)&&po(e[n])&&(r[n]=_o({},r[n]));return r}function zo(e){null!=e&&this.set(e)}ho.suppressDeprecationWarnings=!1,ho.deprecationHandler=null,Po=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)vo(e,t)&&n.push(t);return n};function Fo(e,t,n){var r=""+Math.abs(e),a=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var Ho=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Io=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Uo={},Vo={};function Go(e,t,n,r){var a=r;"string"==typeof r&&(a=function(){return this[r]()}),e&&(Vo[e]=a),t&&(Vo[t[0]]=function(){return Fo(a.apply(this,arguments),t[1],t[2])}),n&&(Vo[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function qo(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Bo(e,t){return e.isValid()?(t=Ko(t,e.localeData()),Uo[t]=Uo[t]||function(e){var t,n,r=e.match(Ho);for(t=0,n=r.length;t<n;t++)Vo[r[t]]?r[t]=Vo[r[t]]:r[t]=qo(r[t]);return function(t){var a,s="";for(a=0;a<n;a++)s+=Lo(r[a])?r[a].call(t,e):r[a];return s}}(t),Uo[t](e)):e.localeData().invalidDate()}function Ko(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(Io.lastIndex=0;n>=0&&Io.test(e);)e=e.replace(Io,r),Io.lastIndex=0,n-=1;return e}var Zo={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function $o(e){return"string"==typeof e?Zo[e]||Zo[e.toLowerCase()]:void 0}function Xo(e){var t,n,r={};for(n in e)vo(e,n)&&(t=$o(n))&&(r[t]=e[n]);return r}var Jo={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var Qo,el=/\d/,tl=/\d\d/,nl=/\d{3}/,rl=/\d{4}/,al=/[+-]?\d{6}/,sl=/\d\d?/,il=/\d\d\d\d?/,ol=/\d\d\d\d\d\d?/,ll=/\d{1,3}/,cl=/\d{1,4}/,ul=/[+-]?\d{1,6}/,dl=/\d+/,fl=/[+-]?\d+/,hl=/Z|[+-]\d\d:?\d\d/gi,ml=/Z|[+-]\d\d(?::?\d\d)?/gi,pl=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,vl=/^[1-9]\d?/,gl=/^([1-9]\d|\d)/;function yl(e,t,n){Qo[e]=Lo(t)?t:function(e,r){return e&&n?n:t}}function wl(e,t){return vo(Qo,e)?Qo[e](t._strict,t._locale):new RegExp(bl(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a})))}function bl(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function xl(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _l(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=xl(t)),n}Qo={};var Dl={};function Sl(e,t){var n,r,a=t;for("string"==typeof e&&(e=[e]),wo(t)&&(a=function(e,n){n[t]=_l(e)}),r=e.length,n=0;n<r;n++)Dl[e[n]]=a}function kl(e,t){Sl(e,function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)})}function Nl(e,t,n){null!=t&&vo(Dl,e)&&Dl[e](t,n._a,n,e)}function El(e){return e%4==0&&e%100!=0||e%400==0}var Ml=0,Ol=1,jl=2,Tl=3,Rl=4,Cl=5,Pl=6,Yl=7,Al=8;function Ll(e){return El(e)?366:365}Go("Y",0,0,function(){var e=this.year();return e<=9999?Fo(e,4):"+"+e}),Go(0,["YY",2],0,function(){return this.year()%100}),Go(0,["YYYY",4],0,"year"),Go(0,["YYYYY",5],0,"year"),Go(0,["YYYYYY",6,!0],0,"year"),yl("Y",fl),yl("YY",sl,tl),yl("YYYY",cl,rl),yl("YYYYY",ul,al),yl("YYYYYY",ul,al),Sl(["YYYYY","YYYYYY"],Ml),Sl("YYYY",function(e,t){t[Ml]=2===e.length?ho.parseTwoDigitYear(e):_l(e)}),Sl("YY",function(e,t){t[Ml]=ho.parseTwoDigitYear(e)}),Sl("Y",function(e,t){t[Ml]=parseInt(e,10)}),ho.parseTwoDigitYear=function(e){return _l(e)+(_l(e)>68?1900:2e3)};var Wl,zl=Fl("FullYear",!0);function Fl(e,t){return function(n){return null!=n?(Il(this,e,n),ho.updateOffset(this,t),this):Hl(this,e)}}function Hl(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Il(e,t,n){var r,a,s,i,o;if(e.isValid()&&!isNaN(n)){switch(r=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(a?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(a?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(a?r.setUTCHours(n):r.setHours(n));case"Date":return void(a?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,i=e.month(),o=29!==(o=e.date())||1!==i||El(s)?o:28,a?r.setUTCFullYear(s,i,o):r.setFullYear(s,i,o)}}function Ul(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?El(e)?29:28:31-r%7%2}Wl=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Go("M",["MM",2],"Mo",function(){return this.month()+1}),Go("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Go("MMMM",0,0,function(e){return this.localeData().months(this,e)}),yl("M",sl,vl),yl("MM",sl,tl),yl("MMM",function(e,t){return t.monthsShortRegex(e)}),yl("MMMM",function(e,t){return t.monthsRegex(e)}),Sl(["M","MM"],function(e,t){t[Ol]=_l(e)-1}),Sl(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[Ol]=a:So(n).invalidMonth=e});var Vl="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Gl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ql=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Bl=pl,Kl=pl;function Zl(e,t,n){var r,a,s,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Do([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=Wl.call(this._shortMonthsParse,i))?a:null:-1!==(a=Wl.call(this._longMonthsParse,i))?a:null:"MMM"===t?-1!==(a=Wl.call(this._shortMonthsParse,i))||-1!==(a=Wl.call(this._longMonthsParse,i))?a:null:-1!==(a=Wl.call(this._longMonthsParse,i))||-1!==(a=Wl.call(this._shortMonthsParse,i))?a:null}function $l(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_l(t);else if(!wo(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,Ul(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function Xl(e){return null!=e?($l(this,e),ho.updateOffset(this,!0),this):Hl(this,"Month")}function Jl(){function e(e,t){return t.length-e.length}var t,n,r,a,s=[],i=[],o=[];for(t=0;t<12;t++)n=Do([2e3,t]),r=bl(this.monthsShort(n,"")),a=bl(this.months(n,"")),s.push(r),i.push(a),o.push(a),o.push(r);s.sort(e),i.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ql(e,t,n,r,a,s,i){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,a,s,i),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,a,s,i),o}function ec(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function tc(e,t,n){var r=7+t-n;return-((7+ec(e,0,r).getUTCDay()-t)%7)+r-1}function nc(e,t,n,r,a){var s,i,o=1+7*(t-1)+(7+n-r)%7+tc(e,r,a);return o<=0?i=Ll(s=e-1)+o:o>Ll(e)?(s=e+1,i=o-Ll(e)):(s=e,i=o),{year:s,dayOfYear:i}}function rc(e,t,n){var r,a,s=tc(e.year(),t,n),i=Math.floor((e.dayOfYear()-s-1)/7)+1;return i<1?r=i+ac(a=e.year()-1,t,n):i>ac(e.year(),t,n)?(r=i-ac(e.year(),t,n),a=e.year()+1):(a=e.year(),r=i),{week:r,year:a}}function ac(e,t,n){var r=tc(e,t,n),a=tc(e+1,t,n);return(Ll(e)-r+a)/7}Go("w",["ww",2],"wo","week"),Go("W",["WW",2],"Wo","isoWeek"),yl("w",sl,vl),yl("ww",sl,tl),yl("W",sl,vl),yl("WW",sl,tl),kl(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_l(e)});function sc(e,t){return e.slice(t,7).concat(e.slice(0,t))}Go("d",0,"do","day"),Go("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Go("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Go("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Go("e",0,0,"weekday"),Go("E",0,0,"isoWeekday"),yl("d",sl),yl("e",sl),yl("E",sl),yl("dd",function(e,t){return t.weekdaysMinRegex(e)}),yl("ddd",function(e,t){return t.weekdaysShortRegex(e)}),yl("dddd",function(e,t){return t.weekdaysRegex(e)}),kl(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:So(n).invalidWeekday=e}),kl(["d","e","E"],function(e,t,n,r){t[r]=_l(e)});var ic="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),oc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),lc="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),cc=pl,uc=pl,dc=pl;function fc(e,t,n){var r,a,s,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Do([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=Wl.call(this._weekdaysParse,i))?a:null:"ddd"===t?-1!==(a=Wl.call(this._shortWeekdaysParse,i))?a:null:-1!==(a=Wl.call(this._minWeekdaysParse,i))?a:null:"dddd"===t?-1!==(a=Wl.call(this._weekdaysParse,i))||-1!==(a=Wl.call(this._shortWeekdaysParse,i))||-1!==(a=Wl.call(this._minWeekdaysParse,i))?a:null:"ddd"===t?-1!==(a=Wl.call(this._shortWeekdaysParse,i))||-1!==(a=Wl.call(this._weekdaysParse,i))||-1!==(a=Wl.call(this._minWeekdaysParse,i))?a:null:-1!==(a=Wl.call(this._minWeekdaysParse,i))||-1!==(a=Wl.call(this._weekdaysParse,i))||-1!==(a=Wl.call(this._shortWeekdaysParse,i))?a:null}function hc(){function e(e,t){return t.length-e.length}var t,n,r,a,s,i=[],o=[],l=[],c=[];for(t=0;t<7;t++)n=Do([2e3,1]).day(t),r=bl(this.weekdaysMin(n,"")),a=bl(this.weekdaysShort(n,"")),s=bl(this.weekdays(n,"")),i.push(r),o.push(a),l.push(s),c.push(r),c.push(a),c.push(s);i.sort(e),o.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function mc(){return this.hours()%12||12}function pc(e,t){Go(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function vc(e,t){return t._meridiemParse}Go("H",["HH",2],0,"hour"),Go("h",["hh",2],0,mc),Go("k",["kk",2],0,function(){return this.hours()||24}),Go("hmm",0,0,function(){return""+mc.apply(this)+Fo(this.minutes(),2)}),Go("hmmss",0,0,function(){return""+mc.apply(this)+Fo(this.minutes(),2)+Fo(this.seconds(),2)}),Go("Hmm",0,0,function(){return""+this.hours()+Fo(this.minutes(),2)}),Go("Hmmss",0,0,function(){return""+this.hours()+Fo(this.minutes(),2)+Fo(this.seconds(),2)}),pc("a",!0),pc("A",!1),yl("a",vc),yl("A",vc),yl("H",sl,gl),yl("h",sl,vl),yl("k",sl,vl),yl("HH",sl,tl),yl("hh",sl,tl),yl("kk",sl,tl),yl("hmm",il),yl("hmmss",ol),yl("Hmm",il),yl("Hmmss",ol),Sl(["H","HH"],Tl),Sl(["k","kk"],function(e,t,n){var r=_l(e);t[Tl]=24===r?0:r}),Sl(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Sl(["h","hh"],function(e,t,n){t[Tl]=_l(e),So(n).bigHour=!0}),Sl("hmm",function(e,t,n){var r=e.length-2;t[Tl]=_l(e.substr(0,r)),t[Rl]=_l(e.substr(r)),So(n).bigHour=!0}),Sl("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[Tl]=_l(e.substr(0,r)),t[Rl]=_l(e.substr(r,2)),t[Cl]=_l(e.substr(a)),So(n).bigHour=!0}),Sl("Hmm",function(e,t,n){var r=e.length-2;t[Tl]=_l(e.substr(0,r)),t[Rl]=_l(e.substr(r))}),Sl("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[Tl]=_l(e.substr(0,r)),t[Rl]=_l(e.substr(r,2)),t[Cl]=_l(e.substr(a))});var gc=Fl("Hours",!0);var yc,wc={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Vl,monthsShort:Gl,week:{dow:0,doy:6},weekdays:ic,weekdaysMin:lc,weekdaysShort:oc,meridiemParse:/[ap]\.?m?\.?/i},bc={},xc={};function _c(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function Dc(e){return e?e.toLowerCase().replace("_","-"):e}function Sc(e){var t=null;if(void 0===bc[e]&&"undefined"!=typeof module&&module&&module.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{t=yc._abbr,require("./locale/"+e),kc(t)}catch(Nd){bc[e]=null}return bc[e]}function kc(e,t){var n;return e&&((n=yo(t)?Ec(e):Nc(e,t))?yc=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),yc._abbr}function Nc(e,t){if(null!==t){var n,r=wc;if(t.abbr=e,null!=bc[e])Ao("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=bc[e]._config;else if(null!=t.parentLocale)if(null!=bc[t.parentLocale])r=bc[t.parentLocale]._config;else{if(null==(n=Sc(t.parentLocale)))return xc[t.parentLocale]||(xc[t.parentLocale]=[]),xc[t.parentLocale].push({name:e,config:t}),null;r=n._config}return bc[e]=new zo(Wo(r,t)),xc[e]&&xc[e].forEach(function(e){Nc(e.name,e.config)}),kc(e),bc[e]}return delete bc[e],null}function Ec(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return yc;if(!mo(e)){if(t=Sc(e))return t;e=[e]}return function(e){for(var t,n,r,a,s=0;s<e.length;){for(t=(a=Dc(e[s]).split("-")).length,n=(n=Dc(e[s+1]))?n.split("-"):null;t>0;){if(r=Sc(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&_c(a,n)>=t-1)break;t--}s++}return yc}(e)}function Mc(e){var t,n=e._a;return n&&-2===So(e).overflow&&(t=n[Ol]<0||n[Ol]>11?Ol:n[jl]<1||n[jl]>Ul(n[Ml],n[Ol])?jl:n[Tl]<0||n[Tl]>24||24===n[Tl]&&(0!==n[Rl]||0!==n[Cl]||0!==n[Pl])?Tl:n[Rl]<0||n[Rl]>59?Rl:n[Cl]<0||n[Cl]>59?Cl:n[Pl]<0||n[Pl]>999?Pl:-1,So(e)._overflowDayOfYear&&(t<Ml||t>jl)&&(t=jl),So(e)._overflowWeeks&&-1===t&&(t=Yl),So(e)._overflowWeekday&&-1===t&&(t=Al),So(e).overflow=t),e}var Oc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tc=/Z|[+-]\d\d(?::?\d\d)?/,Rc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Cc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pc=/^\/?Date\((-?\d+)/i,Yc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ac={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Lc(e){var t,n,r,a,s,i,o=e._i,l=Oc.exec(o)||jc.exec(o),c=Rc.length,u=Cc.length;if(l){for(So(e).iso=!0,t=0,n=c;t<n;t++)if(Rc[t][1].exec(l[1])){a=Rc[t][0],r=!1!==Rc[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Cc[t][1].exec(l[3])){s=(l[2]||" ")+Cc[t][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(l[4]){if(!Tc.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=a+(s||"")+(i||""),Ic(e)}else e._isValid=!1}function Wc(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function zc(e){var t,n,r,a,s,i,o,l,c=Yc.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],r=c[3],a=c[2],s=c[5],i=c[6],o=c[7],l=[Wc(n),Gl.indexOf(r),parseInt(a,10),parseInt(s,10),parseInt(i,10)],o&&l.push(parseInt(o,10)),t=l,!function(e,t,n){return!e||oc.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(So(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return Ac[e];if(t)return 0;var r=parseInt(n,10),a=r%100;return(r-a)/100*60+a}(c[8],c[9],c[10]),e._d=ec.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),So(e).rfc2822=!0}else e._isValid=!1}function Fc(e,t,n){return null!=e?e:null!=t?t:n}function Hc(e){var t,n,r,a,s,i=[];if(!e._d){for(r=function(e){var t=new Date(ho.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[jl]&&null==e._a[Ol]&&function(e){var t,n,r,a,s,i,o,l,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,i=4,n=Fc(t.GG,e._a[Ml],rc(Gc(),1,4).year),r=Fc(t.W,1),((a=Fc(t.E,1))<1||a>7)&&(l=!0)):(s=e._locale._week.dow,i=e._locale._week.doy,c=rc(Gc(),s,i),n=Fc(t.gg,e._a[Ml],c.year),r=Fc(t.w,c.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+s,(t.e<0||t.e>6)&&(l=!0)):a=s);r<1||r>ac(n,s,i)?So(e)._overflowWeeks=!0:null!=l?So(e)._overflowWeekday=!0:(o=nc(n,r,a,s,i),e._a[Ml]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(s=Fc(e._a[Ml],r[Ml]),(e._dayOfYear>Ll(s)||0===e._dayOfYear)&&(So(e)._overflowDayOfYear=!0),n=ec(s,0,e._dayOfYear),e._a[Ol]=n.getUTCMonth(),e._a[jl]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=r[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Tl]&&0===e._a[Rl]&&0===e._a[Cl]&&0===e._a[Pl]&&(e._nextDay=!0,e._a[Tl]=0),e._d=(e._useUTC?ec:Ql).apply(null,i),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Tl]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(So(e).weekdayMismatch=!0)}}function Ic(e){if(e._f!==ho.ISO_8601)if(e._f!==ho.RFC_2822){e._a=[],So(e).empty=!0;var t,n,r,a,s,i,o,l=""+e._i,c=l.length,u=0;for(o=(r=Ko(e._f,e._locale).match(Ho)||[]).length,t=0;t<o;t++)a=r[t],(n=(l.match(wl(a,e))||[])[0])&&((s=l.substr(0,l.indexOf(n))).length>0&&So(e).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),u+=n.length),Vo[a]?(n?So(e).empty=!1:So(e).unusedTokens.push(a),Nl(a,n,e)):e._strict&&!n&&So(e).unusedTokens.push(a);So(e).charsLeftOver=c-u,l.length>0&&So(e).unusedInput.push(l),e._a[Tl]<=12&&!0===So(e).bigHour&&e._a[Tl]>0&&(So(e).bigHour=void 0),So(e).parsedDateParts=e._a.slice(0),So(e).meridiem=e._meridiem,e._a[Tl]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[Tl],e._meridiem),null!==(i=So(e).era)&&(e._a[Ml]=e._locale.erasConvertYear(i,e._a[Ml])),Hc(e),Mc(e)}else zc(e);else Lc(e)}function Uc(e){var t=e._i,n=e._f;return e._locale=e._locale||Ec(e._l),null===t||void 0===n&&""===t?No({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),To(t)?new jo(Mc(t)):(bo(t)?e._d=t:mo(n)?function(e){var t,n,r,a,s,i,o=!1,l=e._f.length;if(0===l)return So(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<l;a++)s=0,i=!1,t=Oo({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],Ic(t),ko(t)&&(i=!0),s+=So(t).charsLeftOver,s+=10*So(t).unusedTokens.length,So(t).score=s,o?s<r&&(r=s,n=t):(null==r||s<r||i)&&(r=s,n=t,i&&(o=!0));_o(e,n||t)}(e):n?Ic(e):function(e){var t=e._i;yo(t)?e._d=new Date(ho.now()):bo(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Pc.exec(e._i);null===t?(Lc(e),!1===e._isValid&&(delete e._isValid,zc(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:ho.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):mo(t)?(e._a=xo(t.slice(0),function(e){return parseInt(e,10)}),Hc(e)):po(t)?function(e){if(!e._d){var t=Xo(e._i),n=void 0===t.day?t.date:t.day;e._a=xo([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Hc(e)}}(e):wo(t)?e._d=new Date(t):ho.createFromInputFallback(e)}(e),ko(e)||(e._d=null),e))}function Vc(e,t,n,r,a){var s,i={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(po(e)&&go(e)||mo(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=n,i._i=e,i._f=t,i._strict=r,(s=new jo(Mc(Uc(i))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Gc(e,t,n,r){return Vc(e,t,n,r,!1)}ho.createFromInputFallback=Co("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),ho.ISO_8601=function(){},ho.RFC_2822=function(){};var qc=Co("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Gc.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:No()}),Bc=Co("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Gc.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:No()});function Kc(e,t){var n,r;if(1===t.length&&mo(t[0])&&(t=t[0]),!t.length)return Gc();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Zc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function $c(e){var t=Xo(e),n=t.year||0,r=t.quarter||0,a=t.month||0,s=t.week||t.isoWeek||0,i=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){var t,n,r=!1,a=Zc.length;for(t in e)if(vo(e,t)&&(-1===Wl.call(Zc,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<a;++n)if(e[Zc[n]]){if(r)return!1;parseFloat(e[Zc[n]])!==_l(e[Zc[n]])&&(r=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*o*60*60,this._days=+i+7*s,this._months=+a+3*r+12*n,this._data={},this._locale=Ec(),this._bubble()}function Xc(e){return e instanceof $c}function Jc(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Qc(e,t){Go(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+Fo(~~(e/60),2)+t+Fo(~~e%60,2)})}Qc("Z",":"),Qc("ZZ",""),yl("Z",ml),yl("ZZ",ml),Sl(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=tu(ml,e)});var eu=/([\+\-]|\d\d)/gi;function tu(e,t){var n,r,a=(t||"").match(e);return null===a?null:0===(r=60*(n=((a[a.length-1]||[])+"").match(eu)||["-",0,0])[1]+_l(n[2]))?0:"+"===n[0]?r:-r}function nu(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(To(e)||bo(e)?e.valueOf():Gc(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ho.updateOffset(n,!1),n):Gc(e).local()}function ru(e){return-Math.round(e._d.getTimezoneOffset())}function au(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}ho.updateOffset=function(){};var su=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,iu=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ou(e,t){var n,r,a,s=e,i=null;return Xc(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:wo(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(i=su.exec(e))?(n="-"===i[1]?-1:1,s={y:0,d:_l(i[jl])*n,h:_l(i[Tl])*n,m:_l(i[Rl])*n,s:_l(i[Cl])*n,ms:_l(Jc(1e3*i[Pl]))*n}):(i=iu.exec(e))?(n="-"===i[1]?-1:1,s={y:lu(i[2],n),M:lu(i[3],n),w:lu(i[4],n),d:lu(i[5],n),h:lu(i[6],n),m:lu(i[7],n),s:lu(i[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=nu(t,e),e.isBefore(t)?n=cu(e,t):((n=cu(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Gc(s.from),Gc(s.to)),(s={}).ms=a.milliseconds,s.M=a.months),r=new $c(s),Xc(e)&&vo(e,"_locale")&&(r._locale=e._locale),Xc(e)&&vo(e,"_isValid")&&(r._isValid=e._isValid),r}function lu(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function cu(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function uu(e,t){return function(n,r){var a;return null===r||isNaN(+r)||(Ao(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),du(this,ou(n,r),e),this}}function du(e,t,n,r){var a=t._milliseconds,s=Jc(t._days),i=Jc(t._months);e.isValid()&&(r=null==r||r,i&&$l(e,Hl(e,"Month")+i*n),s&&Il(e,"Date",Hl(e,"Date")+s*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&ho.updateOffset(e,s||i))}ou.fn=$c.prototype,ou.invalid=function(){return ou(NaN)};var fu=uu(1,"add"),hu=uu(-1,"subtract");function mu(e){return"string"==typeof e||e instanceof String}function pu(e){return To(e)||bo(e)||mu(e)||wo(e)||function(e){var t=mo(e),n=!1;t&&(n=0===e.filter(function(t){return!wo(t)&&mu(e)}).length);return t&&n}(e)||function(e){var t,n,r=po(e)&&!go(e),a=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i=s.length;for(t=0;t<i;t+=1)n=s[t],a=a||vo(e,n);return r&&a}(e)||null==e}function vu(e,t){if(e.date()<t.date())return-vu(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function gu(e){var t;return void 0===e?this._locale._abbr:(null!=(t=Ec(e))&&(this._locale=t),this)}ho.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",ho.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var yu=Co("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function wu(){return this._locale}var bu=1e3,xu=6e4,_u=36e5,Du=126227808e5;function Su(e,t){return(e%t+t)%t}function ku(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Du:new Date(e,t,n).valueOf()}function Nu(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Du:Date.UTC(e,t,n)}function Eu(e,t){return t.erasAbbrRegex(e)}function Mu(){var e,t,n,r,a,s=[],i=[],o=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=bl(c[e].name),r=bl(c[e].abbr),a=bl(c[e].narrow),i.push(n),s.push(r),o.push(a),l.push(n),l.push(r),l.push(a);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Ou(e,t){Go(0,[e,e.length],0,t)}function ju(e,t,n,r,a){var s;return null==e?rc(this,r,a).year:(t>(s=ac(e,r,a))&&(t=s),Tu.call(this,e,t,n,r,a))}function Tu(e,t,n,r,a){var s=nc(e,t,n,r,a),i=ec(s.year,0,s.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}Go("N",0,0,"eraAbbr"),Go("NN",0,0,"eraAbbr"),Go("NNN",0,0,"eraAbbr"),Go("NNNN",0,0,"eraName"),Go("NNNNN",0,0,"eraNarrow"),Go("y",["y",1],"yo","eraYear"),Go("y",["yy",2],0,"eraYear"),Go("y",["yyy",3],0,"eraYear"),Go("y",["yyyy",4],0,"eraYear"),yl("N",Eu),yl("NN",Eu),yl("NNN",Eu),yl("NNNN",function(e,t){return t.erasNameRegex(e)}),yl("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),Sl(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var a=n._locale.erasParse(e,r,n._strict);a?So(n).era=a:So(n).invalidEra=e}),yl("y",dl),yl("yy",dl),yl("yyy",dl),yl("yyyy",dl),yl("yo",function(e,t){return t._eraYearOrdinalRegex||dl}),Sl(["y","yy","yyy","yyyy"],Ml),Sl(["yo"],function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ml]=n._locale.eraYearOrdinalParse(e,a):t[Ml]=parseInt(e,10)}),Go(0,["gg",2],0,function(){return this.weekYear()%100}),Go(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ou("gggg","weekYear"),Ou("ggggg","weekYear"),Ou("GGGG","isoWeekYear"),Ou("GGGGG","isoWeekYear"),yl("G",fl),yl("g",fl),yl("GG",sl,tl),yl("gg",sl,tl),yl("GGGG",cl,rl),yl("gggg",cl,rl),yl("GGGGG",ul,al),yl("ggggg",ul,al),kl(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_l(e)}),kl(["gg","GG"],function(e,t,n,r){t[r]=ho.parseTwoDigitYear(e)}),Go("Q",0,"Qo","quarter"),yl("Q",el),Sl("Q",function(e,t){t[Ol]=3*(_l(e)-1)}),Go("D",["DD",2],"Do","date"),yl("D",sl,vl),yl("DD",sl,tl),yl("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Sl(["D","DD"],jl),Sl("Do",function(e,t){t[jl]=_l(e.match(sl)[0])});var Ru=Fl("Date",!0);Go("DDD",["DDDD",3],"DDDo","dayOfYear"),yl("DDD",ll),yl("DDDD",nl),Sl(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_l(e)}),Go("m",["mm",2],0,"minute"),yl("m",sl,gl),yl("mm",sl,tl),Sl(["m","mm"],Rl);var Cu=Fl("Minutes",!1);Go("s",["ss",2],0,"second"),yl("s",sl,gl),yl("ss",sl,tl),Sl(["s","ss"],Cl);var Pu,Yu,Au=Fl("Seconds",!1);for(Go("S",0,0,function(){return~~(this.millisecond()/100)}),Go(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Go(0,["SSS",3],0,"millisecond"),Go(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Go(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Go(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Go(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Go(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Go(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),yl("S",ll,el),yl("SS",ll,tl),yl("SSS",ll,nl),Pu="SSSS";Pu.length<=9;Pu+="S")yl(Pu,dl);function Lu(e,t){t[Pl]=_l(1e3*("0."+e))}for(Pu="S";Pu.length<=9;Pu+="S")Sl(Pu,Lu);Yu=Fl("Milliseconds",!1),Go("z",0,0,"zoneAbbr"),Go("zz",0,0,"zoneName");var Wu=jo.prototype;function zu(e){return e}Wu.add=fu,Wu.calendar=function(e,t){1===arguments.length&&(arguments[0]?pu(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,n=po(e)&&!go(e),r=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)r=r||vo(e,a[t]);return n&&r}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Gc(),r=nu(n,this).startOf("day"),a=ho.calendarFormat(this,r)||"sameElse",s=t&&(Lo(t[a])?t[a].call(this,n):t[a]);return this.format(s||this.localeData().calendar(a,this,Gc(n)))},Wu.clone=function(){return new jo(this)},Wu.diff=function(e,t,n){var r,a,s;if(!this.isValid())return NaN;if(!(r=nu(e,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),t=$o(t)){case"year":s=vu(this,r)/12;break;case"month":s=vu(this,r);break;case"quarter":s=vu(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-a)/864e5;break;case"week":s=(this-r-a)/6048e5;break;default:s=this-r}return n?s:xl(s)},Wu.endOf=function(e){var t,n;if(void 0===(e=$o(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?Nu:ku,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=_u-Su(t+(this._isUTC?0:this.utcOffset()*xu),_u)-1;break;case"minute":t=this._d.valueOf(),t+=xu-Su(t,xu)-1;break;case"second":t=this._d.valueOf(),t+=bu-Su(t,bu)-1}return this._d.setTime(t),ho.updateOffset(this,!0),this},Wu.format=function(e){e||(e=this.isUtc()?ho.defaultFormatUtc:ho.defaultFormat);var t=Bo(this,e);return this.localeData().postformat(t)},Wu.from=function(e,t){return this.isValid()&&(To(e)&&e.isValid()||Gc(e).isValid())?ou({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Wu.fromNow=function(e){return this.from(Gc(),e)},Wu.to=function(e,t){return this.isValid()&&(To(e)&&e.isValid()||Gc(e).isValid())?ou({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Wu.toNow=function(e){return this.to(Gc(),e)},Wu.get=function(e){return Lo(this[e=$o(e)])?this[e]():this},Wu.invalidAt=function(){return So(this).overflow},Wu.isAfter=function(e,t){var n=To(e)?e:Gc(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$o(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Wu.isBefore=function(e,t){var n=To(e)?e:Gc(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$o(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Wu.isBetween=function(e,t,n,r){var a=To(e)?e:Gc(e),s=To(t)?t:Gc(t);return!!(this.isValid()&&a.isValid()&&s.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(a,n):!this.isBefore(a,n))&&(")"===r[1]?this.isBefore(s,n):!this.isAfter(s,n)))},Wu.isSame=function(e,t){var n,r=To(e)?e:Gc(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=$o(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Wu.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Wu.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Wu.isValid=function(){return ko(this)},Wu.lang=yu,Wu.locale=gu,Wu.localeData=wu,Wu.max=Bc,Wu.min=qc,Wu.parsingFlags=function(){return _o({},So(this))},Wu.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)vo(e,t)&&n.push({unit:t,priority:Jo[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=Xo(e)),a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(Lo(this[e=$o(e)]))return this[e](t);return this},Wu.startOf=function(e){var t,n;if(void 0===(e=$o(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?Nu:ku,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Su(t+(this._isUTC?0:this.utcOffset()*xu),_u);break;case"minute":t=this._d.valueOf(),t-=Su(t,xu);break;case"second":t=this._d.valueOf(),t-=Su(t,bu)}return this._d.setTime(t),ho.updateOffset(this,!0),this},Wu.subtract=hu,Wu.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Wu.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Wu.toDate=function(){return new Date(this.valueOf())},Wu.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Bo(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Lo(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Bo(n,"Z")):Bo(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Wu.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",a="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=a+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Wu[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Wu.toJSON=function(){return this.isValid()?this.toISOString():null},Wu.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Wu.unix=function(){return Math.floor(this.valueOf()/1e3)},Wu.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Wu.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Wu.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},Wu.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},Wu.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},Wu.eraYear=function(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-ho(a[e].since).year())*n+a[e].offset;return this.year()},Wu.year=zl,Wu.isLeapYear=function(){return El(this.year())},Wu.weekYear=function(e){return ju.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},Wu.isoWeekYear=function(e){return ju.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Wu.quarter=Wu.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Wu.month=Xl,Wu.daysInMonth=function(){return Ul(this.year(),this.month())},Wu.week=Wu.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Wu.isoWeek=Wu.isoWeeks=function(e){var t=rc(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Wu.weeksInYear=function(){var e=this.localeData()._week;return ac(this.year(),e.dow,e.doy)},Wu.weeksInWeekYear=function(){var e=this.localeData()._week;return ac(this.weekYear(),e.dow,e.doy)},Wu.isoWeeksInYear=function(){return ac(this.year(),1,4)},Wu.isoWeeksInISOWeekYear=function(){return ac(this.isoWeekYear(),1,4)},Wu.date=Ru,Wu.day=Wu.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=Hl(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Wu.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Wu.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Wu.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Wu.hour=Wu.hours=gc,Wu.minute=Wu.minutes=Cu,Wu.second=Wu.seconds=Au,Wu.millisecond=Wu.milliseconds=Yu,Wu.utcOffset=function(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=tu(ml,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=ru(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?du(this,ou(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ho.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:ru(this)},Wu.utc=function(e){return this.utcOffset(0,e)},Wu.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ru(this),"m")),this},Wu.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=tu(hl,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Wu.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Gc(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Wu.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Wu.isLocal=function(){return!!this.isValid()&&!this._isUTC},Wu.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Wu.isUtc=au,Wu.isUTC=au,Wu.zoneAbbr=function(){return this._isUTC?"UTC":""},Wu.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Wu.dates=Co("dates accessor is deprecated. Use date instead.",Ru),Wu.months=Co("months accessor is deprecated. Use month instead",Xl),Wu.years=Co("years accessor is deprecated. Use year instead",zl),Wu.zone=Co("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Wu.isDSTShifted=Co("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!yo(this._isDSTShifted))return this._isDSTShifted;var e,t={};return Oo(t,this),(t=Uc(t))._a?(e=t._isUTC?Do(t._a):Gc(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,a=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&_l(e[r])!==_l(t[r]))&&i++;return i+s}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Fu=zo.prototype;function Hu(e,t,n,r){var a=Ec(),s=Do().set(r,t);return a[n](s,e)}function Iu(e,t,n){if(wo(e)&&(t=e,e=void 0),e=e||"",null!=t)return Hu(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=Hu(e,r,n,"month");return a}function Uu(e,t,n,r){"boolean"==typeof e?(wo(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,wo(t)&&(n=t,t=void 0),t=t||"");var a,s=Ec(),i=e?s._week.dow:0,o=[];if(null!=n)return Hu(t,(n+i)%7,r,"day");for(a=0;a<7;a++)o[a]=Hu(t,(a+i)%7,r,"day");return o}Fu.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Lo(r)?r.call(t,n):r},Fu.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Ho).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},Fu.invalidDate=function(){return this._invalidDate},Fu.ordinal=function(e){return this._ordinal.replace("%d",e)},Fu.preparse=zu,Fu.postformat=zu,Fu.relativeTime=function(e,t,n,r){var a=this._relativeTime[n];return Lo(a)?a(e,t,n,r):a.replace(/%d/i,e)},Fu.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return Lo(n)?n(t):n.replace(/%s/i,t)},Fu.set=function(e){var t,n;for(n in e)vo(e,n)&&(Lo(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Fu.eras=function(e,t){var n,r,a,s=this._eras||Ec("en")._eras;for(n=0,r=s.length;n<r;++n){if("string"==typeof s[n].since)a=ho(s[n].since).startOf("day"),s[n].since=a.valueOf();switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":a=ho(s[n].until).startOf("day").valueOf(),s[n].until=a.valueOf()}}return s},Fu.erasParse=function(e,t,n){var r,a,s,i,o,l=this.eras();for(e=e.toUpperCase(),r=0,a=l.length;r<a;++r)if(s=l[r].name.toUpperCase(),i=l[r].abbr.toUpperCase(),o=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(i===e)return l[r];break;case"NNNN":if(s===e)return l[r];break;case"NNNNN":if(o===e)return l[r]}else if([s,i,o].indexOf(e)>=0)return l[r]},Fu.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?ho(e.since).year():ho(e.since).year()+(t-e.offset)*n},Fu.erasAbbrRegex=function(e){return vo(this,"_erasAbbrRegex")||Mu.call(this),e?this._erasAbbrRegex:this._erasRegex},Fu.erasNameRegex=function(e){return vo(this,"_erasNameRegex")||Mu.call(this),e?this._erasNameRegex:this._erasRegex},Fu.erasNarrowRegex=function(e){return vo(this,"_erasNarrowRegex")||Mu.call(this),e?this._erasNarrowRegex:this._erasRegex},Fu.months=function(e,t){return e?mo(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ql).test(t)?"format":"standalone"][e.month()]:mo(this._months)?this._months:this._months.standalone},Fu.monthsShort=function(e,t){return e?mo(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ql.test(t)?"format":"standalone"][e.month()]:mo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Fu.monthsParse=function(e,t,n){var r,a,s;if(this._monthsParseExact)return Zl.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=Do([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Fu.monthsRegex=function(e){return this._monthsParseExact?(vo(this,"_monthsRegex")||Jl.call(this),e?this._monthsStrictRegex:this._monthsRegex):(vo(this,"_monthsRegex")||(this._monthsRegex=Kl),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Fu.monthsShortRegex=function(e){return this._monthsParseExact?(vo(this,"_monthsRegex")||Jl.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(vo(this,"_monthsShortRegex")||(this._monthsShortRegex=Bl),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Fu.week=function(e){return rc(e,this._week.dow,this._week.doy).week},Fu.firstDayOfYear=function(){return this._week.doy},Fu.firstDayOfWeek=function(){return this._week.dow},Fu.weekdays=function(e,t){var n=mo(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?sc(n,this._week.dow):e?n[e.day()]:n},Fu.weekdaysMin=function(e){return!0===e?sc(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Fu.weekdaysShort=function(e){return!0===e?sc(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Fu.weekdaysParse=function(e,t,n){var r,a,s;if(this._weekdaysParseExact)return fc.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=Do([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Fu.weekdaysRegex=function(e){return this._weekdaysParseExact?(vo(this,"_weekdaysRegex")||hc.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(vo(this,"_weekdaysRegex")||(this._weekdaysRegex=cc),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Fu.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(vo(this,"_weekdaysRegex")||hc.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(vo(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=uc),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Fu.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(vo(this,"_weekdaysRegex")||hc.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(vo(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=dc),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Fu.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Fu.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},kc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_l(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),ho.lang=Co("moment.lang is deprecated. Use moment.locale instead.",kc),ho.langData=Co("moment.langData is deprecated. Use moment.localeData instead.",Ec);var Vu=Math.abs;function Gu(e,t,n,r){var a=ou(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function qu(e){return e<0?Math.floor(e):Math.ceil(e)}function Bu(e){return 4800*e/146097}function Ku(e){return 146097*e/4800}function Zu(e){return function(){return this.as(e)}}var $u=Zu("ms"),Xu=Zu("s"),Ju=Zu("m"),Qu=Zu("h"),ed=Zu("d"),td=Zu("w"),nd=Zu("M"),rd=Zu("Q"),ad=Zu("y"),sd=$u;function id(e){return function(){return this.isValid()?this._data[e]:NaN}}var od=id("milliseconds"),ld=id("seconds"),cd=id("minutes"),ud=id("hours"),dd=id("days"),fd=id("months"),hd=id("years");var md=Math.round,pd={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vd(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}var gd=Math.abs;function yd(e){return(e>0)-(e<0)||+e}function wd(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,a,s,i,o,l=gd(this._milliseconds)/1e3,c=gd(this._days),u=gd(this._months),d=this.asSeconds();return d?(e=xl(l/60),t=xl(e/60),l%=60,e%=60,n=xl(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",a=d<0?"-":"",s=yd(this._months)!==yd(d)?"-":"",i=yd(this._days)!==yd(d)?"-":"",o=yd(this._milliseconds)!==yd(d)?"-":"",a+"P"+(n?s+n+"Y":"")+(u?s+u+"M":"")+(c?i+c+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+r+"S":"")):"P0D"}var bd=$c.prototype;bd.isValid=function(){return this._isValid},bd.abs=function(){var e=this._data;return this._milliseconds=Vu(this._milliseconds),this._days=Vu(this._days),this._months=Vu(this._months),e.milliseconds=Vu(e.milliseconds),e.seconds=Vu(e.seconds),e.minutes=Vu(e.minutes),e.hours=Vu(e.hours),e.months=Vu(e.months),e.years=Vu(e.years),this},bd.add=function(e,t){return Gu(this,e,t,1)},bd.subtract=function(e,t){return Gu(this,e,t,-1)},bd.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=$o(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Bu(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ku(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},bd.asMilliseconds=$u,bd.asSeconds=Xu,bd.asMinutes=Ju,bd.asHours=Qu,bd.asDays=ed,bd.asWeeks=td,bd.asMonths=nd,bd.asQuarters=rd,bd.asYears=ad,bd.valueOf=sd,bd._bubble=function(){var e,t,n,r,a,s=this._milliseconds,i=this._days,o=this._months,l=this._data;return s>=0&&i>=0&&o>=0||s<=0&&i<=0&&o<=0||(s+=864e5*qu(Ku(o)+i),i=0,o=0),l.milliseconds=s%1e3,e=xl(s/1e3),l.seconds=e%60,t=xl(e/60),l.minutes=t%60,n=xl(t/60),l.hours=n%24,i+=xl(n/24),o+=a=xl(Bu(i)),i-=qu(Ku(a)),r=xl(o/12),o%=12,l.days=i,l.months=o,l.years=r,this},bd.clone=function(){return ou(this)},bd.get=function(e){return e=$o(e),this.isValid()?this[e+"s"]():NaN},bd.milliseconds=od,bd.seconds=ld,bd.minutes=cd,bd.hours=ud,bd.days=dd,bd.weeks=function(){return xl(this.days()/7)},bd.months=fd,bd.years=hd,bd.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,a=!1,s=pd;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(a=e),"object"==typeof t&&(s=Object.assign({},pd,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),r=function(e,t,n,r){var a=ou(e).abs(),s=md(a.as("s")),i=md(a.as("m")),o=md(a.as("h")),l=md(a.as("d")),c=md(a.as("M")),u=md(a.as("w")),d=md(a.as("y")),f=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||i<=1&&["m"]||i<n.m&&["mm",i]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),(f=f||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,f[3]=+e>0,f[4]=r,vd.apply(null,f)}(this,!a,s,n=this.localeData()),a&&(r=n.pastFuture(+this,r)),n.postformat(r)},bd.toISOString=wd,bd.toString=wd,bd.toJSON=wd,bd.locale=gu,bd.localeData=wu,bd.toIsoString=Co("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wd),bd.lang=yu,Go("X",0,0,"unix"),Go("x",0,0,"valueOf"),yl("x",fl),yl("X",/[+-]?\d+(\.\d{1,3})?/),Sl("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),Sl("x",function(e,t,n){n._d=new Date(_l(e))}),
//! moment.js
ho.version="2.30.1",io=Gc,ho.fn=Wu,ho.min=function(){return Kc("isBefore",[].slice.call(arguments,0))},ho.max=function(){return Kc("isAfter",[].slice.call(arguments,0))},ho.now=function(){return Date.now?Date.now():+new Date},ho.utc=Do,ho.unix=function(e){return Gc(1e3*e)},ho.months=function(e,t){return Iu(e,t,"months")},ho.isDate=bo,ho.locale=kc,ho.invalid=No,ho.duration=ou,ho.isMoment=To,ho.weekdays=function(e,t,n){return Uu(e,t,n,"weekdays")},ho.parseZone=function(){return Gc.apply(null,arguments).parseZone()},ho.localeData=Ec,ho.isDuration=Xc,ho.monthsShort=function(e,t){return Iu(e,t,"monthsShort")},ho.weekdaysMin=function(e,t,n){return Uu(e,t,n,"weekdaysMin")},ho.defineLocale=Nc,ho.updateLocale=function(e,t){if(null!=t){var n,r,a=wc;null!=bc[e]&&null!=bc[e].parentLocale?bc[e].set(Wo(bc[e]._config,t)):(null!=(r=Sc(e))&&(a=r._config),t=Wo(a,t),null==r&&(t.abbr=e),(n=new zo(t)).parentLocale=bc[e],bc[e]=n),kc(e)}else null!=bc[e]&&(null!=bc[e].parentLocale?(bc[e]=bc[e].parentLocale,e===kc()&&kc(e)):null!=bc[e]&&delete bc[e]);return bc[e]},ho.locales=function(){return Po(bc)},ho.weekdaysShort=function(e,t,n){return Uu(e,t,n,"weekdaysShort")},ho.normalizeUnits=$o,ho.relativeTimeRounding=function(e){return void 0===e?md:"function"==typeof e&&(md=e,!0)},ho.relativeTimeThreshold=function(e,t){return void 0!==pd[e]&&(void 0===t?pd[e]:(pd[e]=t,"s"===e&&(pd.ss=t-1),!0))},ho.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},ho.prototype=Wu,ho.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const xd=r.memo(function({appointments:t,patients:a,isLoading:s,onEdit:i,onDelete:o,onViewPatient:l,onSelectAppointment:c}){F();const[u,d]=r.useState("start_time"),[f,h]=r.useState("desc"),[m,p]=r.useState(1),[v,g]=r.useState(10),[y,w]=r.useState(""),[b,x]=r.useState("all"),_=r.useMemo(()=>{const e=new Map;return a.forEach(t=>{e.set(t.id,t)}),e},[a]),D=r.useMemo(()=>{t.length;let e=t.map(e=>{const t={...e,patient:e.patient||_.get(e.patient_id),patient_name:e.patient_name||e.patient?.full_name||_.get(e.patient_id)?.full_name||"مريض غير معروف"};return e.patient_name,t});if(y.trim()){const t=y.toLowerCase();e=e.filter(e=>e.patient_name.toLowerCase().includes(t)||e.title.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t))}return"all"!==b&&(e=e.filter(e=>e.status===b)),e},[t,_,y,b]),S=r.useMemo(()=>[...D].sort((e,t)=>{let n,r;switch(u){case"patient_name":n=e.patient_name.toLowerCase(),r=t.patient_name.toLowerCase();break;case"start_time":n=new Date(e.start_time),r=new Date(t.start_time);break;case"end_time":n=new Date(e.end_time),r=new Date(t.end_time);break;case"status":n=e.status,r=t.status;break;case"title":n=e.title.toLowerCase(),r=t.title.toLowerCase();break;default:return 0}return n<r?"asc"===f?-1:1:n>r?"asc"===f?1:-1:0}),[D,u,f]),k=S.length,N=Math.ceil(k/v),E=(m-1)*v,M=S.slice(E,E+v),O=e=>{p(e)};n.useEffect(()=>{p(1)},[y,b]);const j=({field:t,children:n,className:r})=>e.jsx(ze,{className:`cursor-pointer hover:bg-muted/50 select-none text-center ${r||""}`,onClick:()=>(e=>{u===e?h("asc"===f?"desc":"asc"):(d(e),h("asc"))})(t),children:e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[n,u===t?"asc"===f?e.jsx(Ze,{className:"w-4 h-4"}):e.jsx($e,{className:"w-4 h-4"}):e.jsx(Xe,{className:"w-4 h-4 opacity-50"})]})}),T=e=>{switch(e){case"scheduled":return"مجدول";case"completed":return"مكتمل";case"cancelled":return"ملغي";case"no_show":return"لم يحضر";default:return e}};return s?e.jsx("div",{className:"border rounded-lg",dir:"rtl",children:e.jsxs(Ae,{className:"table-center-all",children:[e.jsx(Le,{children:e.jsxs(We,{className:"bg-muted/50",children:[e.jsx(ze,{className:"text-center",children:"#"}),e.jsx(ze,{className:"text-center",children:"اسم المريض"}),e.jsx(ze,{className:"text-center",children:"تاريخ ووقت البداية"}),e.jsx(ze,{className:"text-center",children:"تاريخ ووقت النهاية"}),e.jsx(ze,{className:"text-center",children:"حالة الموعد"}),e.jsx(ze,{className:"text-center",children:"الاجراءات"})]})}),e.jsx(Fe,{children:e.jsx(We,{children:e.jsx(He,{colSpan:6,className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("p",{className:"text-muted-foreground arabic-enhanced",children:"جاري تحميل المواعيد..."})]})})})})]})}):0===t.length?e.jsx("div",{className:"border rounded-lg",dir:"rtl",children:e.jsxs(Ae,{className:"table-center-all",children:[e.jsx(Le,{children:e.jsxs(We,{className:"bg-muted/50",children:[e.jsx(ze,{className:"text-center",children:"#"}),e.jsx(ze,{className:"text-center",children:"اسم المريض"}),e.jsx(ze,{className:"text-center",children:"تاريخ ووقت البداية"}),e.jsx(ze,{className:"text-center",children:"تاريخ ووقت النهاية"}),e.jsx(ze,{className:"text-center",children:"حالة الموعد"}),e.jsx(ze,{className:"text-center",children:"الاجراءات"})]})}),e.jsx(Fe,{children:e.jsx(We,{children:e.jsx(He,{colSpan:6,className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(H,{className:"w-12 h-12 text-muted-foreground opacity-50"}),e.jsx("p",{className:"text-muted-foreground arabic-enhanced",children:"لا توجد مواعيد"})]})})})})]})}):e.jsxs("div",{className:"space-y-4",dir:"rtl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(U,{placeholder:"البحث في المواعيد...",value:y,onChange:e=>w(e.target.value),className:"pl-10 arabic-enhanced text-right"})]}),e.jsxs(V,{value:b,onValueChange:x,children:[e.jsxs(G,{className:"w-[180px]",children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),e.jsx(q,{placeholder:"تصفية حسب الحالة"})]}),e.jsxs(B,{children:[e.jsx(K,{value:"all",children:"جميع الحالات"}),e.jsx(K,{value:"scheduled",children:"مجدول"}),e.jsx(K,{value:"completed",children:"مكتمل"}),e.jsx(K,{value:"cancelled",children:"ملغي"}),e.jsx(K,{value:"no_show",children:"لم يحضر"})]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground arabic-enhanced",children:["إجمالي المواعيد: ",D.length]})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ae,{className:"table-center-all w-full",children:[e.jsx(Le,{children:e.jsxs(We,{className:"bg-muted/50",children:[e.jsx(ze,{className:"text-center min-w-[80px]",children:e.jsx("span",{className:"arabic-enhanced font-medium",children:"#"})}),e.jsx(j,{field:"patient_name",className:"min-w-[180px]",children:e.jsx("span",{className:"arabic-enhanced font-medium",children:"اسم المريض"})}),e.jsx(j,{field:"start_time",className:"min-w-[140px]",children:e.jsx("span",{className:"arabic-enhanced font-medium",children:"تاريخ ووقت البداية"})}),e.jsx(j,{field:"end_time",className:"min-w-[140px]",children:e.jsx("span",{className:"arabic-enhanced font-medium",children:"تاريخ ووقت النهاية"})}),e.jsx(j,{field:"status",className:"min-w-[100px]",children:e.jsx("span",{className:"arabic-enhanced font-medium",children:"حالة الموعد"})}),e.jsx(ze,{className:"text-center min-w-[200px]",children:e.jsx("span",{className:"arabic-enhanced font-medium",children:"الاجراءات"})})]})}),e.jsx(Fe,{children:M.map((t,n)=>e.jsxs(We,{className:"hover:bg-muted/50 cursor-pointer",onClick:()=>c?.(t),children:[e.jsx(He,{className:"font-medium text-center",children:E+n+1}),e.jsx(He,{className:"font-medium text-center",children:e.jsx("span",{className:"arabic-enhanced",title:t.patient_name,children:t.patient_name})}),e.jsx(He,{className:"text-center",children:e.jsx("div",{className:"text-sm font-medium arabic-enhanced",children:Z(t.start_time)})}),e.jsx(He,{className:"text-center",children:e.jsx("div",{className:"text-sm font-medium arabic-enhanced",children:Z(t.end_time)})}),e.jsx(He,{className:"text-center",children:e.jsx($,{variant:"outline",className:`${X(t.status)} arabic-enhanced text-xs whitespace-nowrap`,children:T(t.status)})}),e.jsx(He,{className:"text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1 flex-wrap",children:[e.jsxs(J,{variant:"ghost",size:"sm",className:"action-btn-edit",onClick:e=>{e.preventDefault(),e.stopPropagation(),i(t)},children:[e.jsx(Ue,{className:"w-4 h-4 ml-1"}),e.jsx("span",{className:"text-xs arabic-enhanced",children:"تعديل"})]}),e.jsxs(J,{variant:"ghost",size:"sm",className:"action-btn-delete",onClick:e=>{e.preventDefault(),e.stopPropagation(),o(t.id)},children:[e.jsx(Ve,{className:"w-4 h-4 ml-1"}),e.jsx("span",{className:"text-xs arabic-enhanced",children:"حذف"})]}),(t.patient||_.get(t.patient_id))&&e.jsxs(J,{variant:"ghost",size:"sm",className:"action-btn-view",onClick:e=>{e.preventDefault(),e.stopPropagation();const n=t.patient||_.get(t.patient_id);n&&l(n)},children:[e.jsx(Q,{className:"w-4 h-4 ml-1"}),e.jsx("span",{className:"text-xs arabic-enhanced",children:"عرض المريض"})]})]})})]},t.id))})]})})}),k>0&&e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("p",{className:"text-sm text-muted-foreground arabic-enhanced",children:["عرض ",(m-1)*v+1," إلى ",Math.min(m*v,k)," من ",k," موعد"]})}),e.jsxs("div",{className:"flex items-center gap-6 lg:gap-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-medium arabic-enhanced",children:"عدد الصفوف لكل صفحة"}),e.jsxs(V,{value:`${v}`,onValueChange:e=>{g(parseInt(e)),p(1)},children:[e.jsx(G,{className:"h-8 w-[70px]",children:e.jsx(q,{placeholder:v})}),e.jsx(B,{side:"top",children:[10,20,30,50,100].map(t=>e.jsx(K,{value:`${t}`,children:t},t))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium arabic-enhanced",children:["صفحة ",m," من ",N]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(J,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>O(1),disabled:1===m,children:[e.jsx("span",{className:"sr-only",children:"الذهاب إلى الصفحة الأولى"}),e.jsx(qe,{className:"h-4 w-4"})]}),e.jsxs(J,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>O(m-1),disabled:1===m,children:[e.jsx("span",{className:"sr-only",children:"الذهاب إلى الصفحة السابقة"}),e.jsx(Ke,{className:"h-4 w-4"})]}),e.jsxs(J,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>O(m+1),disabled:m===N,children:[e.jsx("span",{className:"sr-only",children:"الذهاب إلى الصفحة التالية"}),e.jsx(ee,{className:"h-4 w-4"})]}),e.jsxs(J,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>O(N),disabled:m===N,children:[e.jsx("span",{className:"sr-only",children:"الذهاب إلى الصفحة الأخيرة"}),e.jsx(Be,{className:"h-4 w-4"})]})]})]})]})]})});function _d({isOpen:t,appointment:n,patient:r,onClose:a,onConfirm:s,isLoading:i=!1}){return n?e.jsx(te,{open:t,onOpenChange:a,children:e.jsxs(ne,{className:"sm:max-w-[425px]",dir:"rtl",children:[e.jsxs(re,{children:[e.jsxs(ae,{className:"flex items-center gap-2 text-destructive arabic-enhanced",children:[e.jsx(se,{className:"w-5 h-5"}),"تأكيد حذف الموعد"]}),e.jsx(ie,{className:"text-right arabic-enhanced",children:"هل أنت متأكد من أنك تريد حذف هذا الموعد؟ لا يمكن التراجع عن هذا الإجراء."})]}),e.jsx("div",{className:"py-4 space-y-4",children:e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium arabic-enhanced",children:"تفاصيل الموعد:"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"arabic-enhanced",children:["المريض: ",r?.full_name||"غير معروف"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:["التاريخ والوقت: ",Z(n.start_time)]})]}),n.title&&e.jsxs("div",{className:"arabic-enhanced",children:[e.jsx("span",{className:"font-medium",children:"العنوان: "}),e.jsx("span",{children:n.title})]}),n.description&&e.jsxs("div",{className:"arabic-enhanced",children:[e.jsx("span",{className:"font-medium",children:"الوصف: "}),e.jsx("span",{children:n.description})]})]})]})}),e.jsxs(ce,{className:"flex gap-2",children:[e.jsx(J,{variant:"outline",onClick:a,disabled:i,className:"arabic-enhanced",children:"إلغاء"}),e.jsx(J,{variant:"destructive",onClick:s,disabled:i,className:"arabic-enhanced",children:i?"جاري الحذف...":"حذف الموعد"})]})]})}):null}ho.locale("ar",De),ho.updateLocale("ar",De);const Dd=function(e){function t(t,n){var r,a,s=e(t).local(),i=e(n).local();if(!e.tz)return s.toDate().getTimezoneOffset()-i.toDate().getTimezoneOffset();var o=null!==(r=null==s||null===(a=s._z)||void 0===a?void 0:a.name)&&void 0!==r?r:e.tz.guess();return e.tz.zone(o).utcOffset(+s)-e.tz.zone(o).utcOffset(+i)}function n(t,n,r){var a=fo(r);return[a?e(t).startOf(a):e(t),a?e(n).startOf(a):e(n),a]}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=fo(arguments.length>1?arguments[1]:void 0);return n?e(t).startOf(n).toDate():e(t).toDate()}function a(e,t,r){var a=gt(n(e,t,r),3),s=a[0],i=a[1],o=a[2];return s.isSame(i,o)}function s(e,t,r){var a=gt(n(e,t,r),3),s=a[0],i=a[1],o=a[2];return s.isSameOrBefore(i,o)}function i(t,n,r){var a=fo(r);return e(t).add(n,a).toDate()}function o(t,n){var r=fo(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),a=e(t);return e(n).diff(a,r)}function l(t){return e(t).startOf("month").startOf("week").toDate()}function c(t){return e(t).endOf("month").endOf("week").toDate()}function u(t,n){var r=e(t),a=e(n);return e.duration(a.diff(r)).days()}return new Ps({formats:uo,firstOfWeek:function(t){var n=t?e.localeData(t):e.localeData();return n?n.firstDayOfWeek():0},firstVisibleDay:l,lastVisibleDay:c,visibleDays:function(e){for(var t=l(e),n=c(e),r=[];s(t,n);)r.push(t),t=i(t,1,"d");return r},format:function(t,n,r){return(a=e(t),s=r,s?a.locale(s):a).format(n);var a,s},lt:function(e,t,r){var a=gt(n(e,t,r),3),s=a[0],i=a[1],o=a[2];return s.isBefore(i,o)},lte:s,gt:function(e,t,r){var a=gt(n(e,t,r),3),s=a[0],i=a[1],o=a[2];return s.isAfter(i,o)},gte:function(e,t,r){var a=gt(n(e,t,r),3),s=a[0],i=a[1],o=a[2];return s.isSameOrBefore(i,o)},eq:a,neq:function(e,t,n){return!a(e,t,n)},merge:function(t,n){if(!t&&!n)return null;var r=e(n).format("HH:mm:ss"),a=e(t).startOf("day").format("MM/DD/YYYY");return e("".concat(a," ").concat(r),"MM/DD/YYYY HH:mm:ss").toDate()},inRange:function(t,n,r){var a=fo(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"day"),s=e(t),i=e(n),o=e(r);return s.isBetween(i,o,a,"[]")},startOf:r,endOf:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=fo(arguments.length>1?arguments[1]:void 0);return n?e(t).endOf(n).toDate():e(t).toDate()},range:function(t,n){for(var r=fo(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),a=e(t).toDate(),o=[];s(a,n);)o.push(a),a=i(a,1,r);return o},add:i,diff:o,ceil:function(e,t){var n=fo(t),s=r(e,n);return a(s,e)?s:i(s,1,n)},min:function(t,n){var r=e(t),a=e(n);return e.min(r,a).toDate()},max:function(t,n){var r=e(t),a=e(n);return e.max(r,a).toDate()},minutes:function(t){return e(t).minutes()},getSlotDate:function(t,n,r){return e(t).startOf("day").minute(n+r).toDate()},getTimezoneOffset:function(t){return e(t).toDate().getTimezoneOffset()},getDstOffset:t,getTotalMin:function(e,t){return o(e,t,"minutes")},getMinutesFromMidnight:function(n){var r=e(n).startOf("day");return e(n).diff(r,"minutes")+function(n){return t(e(n).startOf("day"),n)}(n)},continuesPrior:function(t,n){var r=e(t),a=e(n);return r.isBefore(a,"day")},continuesAfter:function(t,n,r){var a=e(n),s=e(r);return a.isSameOrAfter(s,"minutes")},sortEvents:function(e){var t=e.evtA,n=t.start,a=t.end,s=t.allDay,i=e.evtB,o=i.start,l=i.end,c=i.allDay,d=+r(n,"day")-+r(o,"day"),f=u(n,a),h=u(o,l);return d||h-f||!!c-!!s||+n-+o||+a-+l},inEventRange:function(t){var n=t.event,r=n.start,a=n.end,s=t.range,i=s.start,o=s.end,l=e(r).startOf("day"),c=e(a),u=e(i),d=e(o),f=l.isSameOrBefore(d,"day"),h=!l.isSame(c,"minutes")?c.isAfter(u,"minutes"):c.isSameOrAfter(u,"minutes");return f&&h},isSameDate:function(t,n){var r=e(t),a=e(n);return r.isSame(a,"day")},daySpan:u,browserTZOffset:function(){var t=new Date,n=/-/.test(t.toString())?"-":"",r=t.getTimezoneOffset(),a=Number("".concat(n).concat(Math.abs(r)));return e().utcOffset()>a?1:0}})}
//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(ho),Sd=e=>{switch(e){case"scheduled":return"مجدول";case"completed":return"مكتمل";case"cancelled":return"ملغي";case"no_show":return"لم يحضر";default:return e}};function kd(){ue(),de();const{appointments:t,calendarEvents:a,selectedAppointment:s,calendarView:i,selectedDate:o,setSelectedAppointment:l,setCalendarView:c,setSelectedDate:u,loadAppointments:d,deleteAppointment:f,updateAppointment:h,createAppointment:m}=fe(),{patients:p,loadPatients:v}=he(),{toast:g}=F(),[y,w]=r.useState(!1),[b,x]=r.useState(!1),[_,D]=r.useState(null),[S,k]=r.useState(!1),[N,E]=r.useState(!1),[M,O]=r.useState(null),[j,T]=r.useState(null),[R,C]=r.useState(""),[P,Y]=r.useState(!1),[A,L]=r.useState("all"),[W,z]=r.useState("all"),[Q,te]=r.useState({start:"",end:""});r.useEffect(()=>{d(),v()},[d,v]),r.useEffect(()=>{const e=localStorage.getItem("selectedAppointmentForDetails");if(e)try{const{appointment:t,openDetailsModal:n}=JSON.parse(e);n&&t&&(l(t),w(!0),localStorage.removeItem("selectedAppointmentForDetails"))}catch(t){console.error("Error parsing search result data:",t),localStorage.removeItem("selectedAppointmentForDetails")}},[]);const ne=n.useMemo(()=>{let e=[...t];if(R.trim()){const t=R.toLowerCase();e=e.filter(e=>{const n=e.patient?.full_name?.toLowerCase()||"",r=e.title?.toLowerCase()||"",a=e.description?.toLowerCase()||"";return n.includes(t)||r.includes(t)||a.includes(t)})}if("all"!==A&&(e=e.filter(e=>e.status===A)),"all"!==W&&(e=e.filter(e=>e.patient_id===W)),Q.start&&Q.end){const t=new Date(Q.start),n=new Date(Q.end);n.setHours(23,59,59,999),e=e.filter(e=>{const r=new Date(e.start_time);return r>=t&&r<=n})}return e},[t,R,A,W,Q]),re=r.useCallback(e=>{l(e.resource)},[l]),ae=r.useCallback(e=>{const t=e.start||new Date,n=t.toTimeString().slice(0,5);T({date:t,time:n}),l(null),w(!0)},[]),se=r.useCallback(e=>{u(e)},[u]),ie=r.useCallback(e=>{c(e)},[c]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-heading-1 text-foreground arabic-enhanced",children:"إدارة المواعيد"}),e.jsx("p",{className:"text-body text-muted-foreground mt-2 arabic-enhanced",children:"جدولة ومتابعة مواعيد المرضى"})]}),e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsxs(Se,{children:[e.jsx(ke,{asChild:!0,children:e.jsxs(J,{variant:"outline",children:[e.jsx(Ge,{className:"w-4 h-4 ml-2"}),"تصدير"]})}),e.jsxs(Ne,{align:"end",className:"w-44",children:[e.jsxs(Ee,{onClick:async()=>{if(0!==ne.length)try{await Qe.exportAppointmentsToExcel(ne),Je.exportSuccess(`تم تصدير ${ne.length} موعد بنجاح إلى ملف Excel!`)}catch(e){console.error("Error exporting appointments (Excel):",e),Je.exportError("فشل في تصدير بيانات المواعيد (Excel)")}else Je.noDataToExport("لا توجد بيانات مواعيد للتصدير")},className:"arabic-enhanced",children:[e.jsx(Ge,{className:"w-4 h-4 ml-2"}),"تصدير Excel"]}),e.jsx(Me,{}),e.jsx(Ee,{onClick:async()=>{if(0!==ne.length)try{await Qe.exportAppointmentsToPDF(ne),Je.exportSuccess(`تم تصدير ${ne.length} موعد كملف PDF بنجاح!`)}catch(e){console.error("Error exporting appointments (PDF):",e),Je.exportError("فشل في تصدير بيانات المواعيد (PDF)")}else Je.noDataToExport("لا توجد بيانات مواعيد للتصدير")},className:"arabic-enhanced",children:"PDF تصدير"})]})]}),e.jsxs(J,{onClick:()=>{l(null),w(!0)},children:[e.jsx(tt,{className:"w-4 h-4 mr-2"}),"موعد جديد"]})]})]}),e.jsx(me,{children:e.jsx(pe,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center gap-4",dir:"rtl",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(I,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(U,{placeholder:"البحث في المواعيد (اسم المريض، العنوان، الوصف)...",value:R,onChange:e=>C(e.target.value),className:"pr-10 text-right",dir:"rtl"})]}),e.jsx(Ce,{open:P,onOpenChange:Y,children:e.jsx(Pe,{asChild:!0,children:e.jsxs(J,{variant:"outline",size:"sm",children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),"تصفية",("all"!==A||"all"!==W||Q.start||Q.end)&&e.jsx("span",{className:"mr-2 w-2 h-2 bg-primary rounded-full"})]})})}),(R||"all"!==A||"all"!==W||Q.start||Q.end)&&e.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>{C(""),L("all"),z("all"),te({start:"",end:""}),Y(!1)},children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"مسح الكل"]})]}),e.jsx(Ce,{open:P,onOpenChange:Y,children:e.jsx(Ye,{className:"space-y-4",dir:"rtl",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-muted/50 rounded-lg",dir:"rtl",children:[e.jsxs("div",{className:"space-y-2 text-right",children:[e.jsx("label",{className:"text-sm font-medium",children:"حالة الموعد"}),e.jsxs(V,{value:A,onValueChange:L,dir:"rtl",children:[e.jsx(G,{className:"text-right",children:e.jsx(q,{placeholder:"جميع الحالات"})}),e.jsxs(B,{children:[e.jsx(K,{value:"all",children:"جميع الحالات"}),e.jsx(K,{value:"scheduled",children:"مجدول"}),e.jsx(K,{value:"completed",children:"مكتمل"}),e.jsx(K,{value:"cancelled",children:"ملغي"}),e.jsx(K,{value:"no_show",children:"لم يحضر"})]})]})]}),e.jsxs("div",{className:"space-y-2 text-right",children:[e.jsx("label",{className:"text-sm font-medium",children:"المريض"}),e.jsxs(V,{value:W,onValueChange:z,dir:"rtl",children:[e.jsx(G,{className:"text-right",children:e.jsx(q,{placeholder:"جميع المرضى"})}),e.jsxs(B,{children:[e.jsx(K,{value:"all",children:"جميع المرضى"}),p.map(t=>e.jsx(K,{value:t.id,children:t.full_name},t.id))]})]})]}),e.jsxs("div",{className:"space-y-2 text-right",children:[e.jsx("label",{className:"text-sm font-medium",children:"من تاريخ"}),e.jsx(U,{type:"date",value:Q.start,onChange:e=>te(t=>({...t,start:e.target.value})),className:"text-right",dir:"rtl"})]}),e.jsxs("div",{className:"space-y-2 text-right",children:[e.jsx("label",{className:"text-sm font-medium",children:"إلى تاريخ"}),e.jsx(U,{type:"date",value:Q.end,onChange:e=>te(t=>({...t,end:e.target.value})),className:"text-right",dir:"rtl"})]})]})})})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"w-full",children:e.jsxs(Oe,{defaultValue:"table",className:"w-full",children:[e.jsxs(je,{className:"grid w-full grid-cols-2",children:[e.jsxs(Te,{value:"calendar",className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{className:"arabic-enhanced",children:"عرض التقويم"})]}),e.jsxs(Te,{value:"table",className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(nt,{className:"w-4 h-4"}),e.jsx("span",{className:"arabic-enhanced",children:"عرض الجدول"})]})]}),e.jsx(Re,{value:"calendar",className:"mt-6",children:e.jsx(me,{children:e.jsx(pe,{className:"p-6",children:e.jsxs("div",{style:{height:"600px"},children:[e.jsx("style",{children:"\n                      /* Enhanced Calendar Event Styling */\n                      .rbc-event {\n                        border-radius: 8px !important;\n                        border: none !important;\n                        box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3) !important;\n                        font-weight: 500;\n                        transition: all 0.2s ease;\n                        cursor: pointer;\n                      }\n                      \n                      .rbc-event:hover {\n                        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4) !important;\n                        transform: translateY(-1px);\n                        transition: all 0.2s ease;\n                      }\n                      \n                      .rbc-event-content {\n                        padding: 4px 8px !important;\n                        font-size: 0.875rem;\n                        line-height: 1.25;\n                        white-space: nowrap;\n                        overflow: hidden;\n                        text-overflow: ellipsis;\n                      }\n                      \n                      .rbc-month-view .rbc-event {\n                        margin: 2px 1px !important;\n                        min-height: 20px;\n                      }\n                      \n                      .rbc-agenda-view .rbc-event {\n                        border-radius: 6px !important;\n                        margin: 1px 0 !important;\n                      }\n                      \n                      /* Status-based event colors */\n                      .rbc-event.status-scheduled {\n                        background: linear-gradient(135deg, #3b82f6, #1d4ed8) !important;\n                      }\n                      \n                      .rbc-event.status-completed {\n                        background: linear-gradient(135deg, #16a34a, #15803d) !important;\n                      }\n                      \n                      .rbc-event.status-cancelled {\n                        background: linear-gradient(135deg, #dc2626, #b91c1c) !important;\n                      }\n                      \n                      .rbc-event.status-no-show {\n                        background: linear-gradient(135deg, #6b7280, #4b5563) !important;\n                      }\n                      \n                      /* Calendar grid improvements */\n                      .rbc-calendar {\n                        border-radius: 12px;\n                        overflow: hidden;\n                        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1);\n                      }\n                      \n                      .rbc-day-bg {\n                        transition: background-color 0.2s ease;\n                      }\n                      \n                      .rbc-day-bg:hover {\n                        background-color: rgba(30, 41, 59, 0.5) !important;\n                      }\n                      \n                      .rbc-today {\n                        background-color: rgba(59, 130, 246, 0.2) !important;\n                        border-color: rgba(59, 130, 246, 0.3) !important;\n                        position: relative;\n                      }\n                      \n                      .rbc-today::before {\n                        content: '';\n                        position: absolute;\n                        top: 0;\n                        left: 0;\n                        right: 0;\n                        height: 3px;\n                        background: linear-gradient(90deg, #3b82f6, #1d4ed8);\n                        border-radius: 0 0 4px 4px;\n                      }\n                      \n                      .rbc-date-cell {\n                        font-weight: 500;\n                        padding: 8px 4px;\n                        color: #cbd5e1;\n                      }\n                      \n                      .rbc-today .rbc-date-cell {\n                        color: #bfdbfe;\n                        font-weight: 600;\n                      }\n                      \n                      /* Navigation buttons */\n                      .rbc-toolbar button {\n                        border-radius: 6px;\n                        padding: 8px 12px;\n                        font-weight: 500;\n                        transition: all 0.2s ease;\n                        background-color: #1e293b;\n                        color: #e2e8f0;\n                        border: 1px solid #475569;\n                      }\n                      \n                      .rbc-toolbar button:hover {\n                        background-color: #334155;\n                        color: #f1f5f9;\n                        transform: translateY(-1px);\n                      }\n                      \n                      .rbc-toolbar button.rbc-active {\n                        background-color: #3b82f6;\n                        color: white;\n                      }\n                    "}),e.jsx(lo,{localizer:Dd,events:a,startAccessor:"start",endAccessor:"end",view:i,onView:ie,date:o,onNavigate:se,onSelectEvent:re,onSelectSlot:ae,selectable:!0,eventPropGetter:e=>{const t=e.resource;let n="status-scheduled";switch(t?.status){case"completed":n="status-completed";break;case"cancelled":n="status-cancelled";break;case"no_show":n="status-no-show";break;default:n="status-scheduled"}return{className:`rbc-event ${n}`,style:{borderRadius:"8px",opacity:.95,color:"white",border:"none",display:"block",fontSize:"0.875rem",fontWeight:"500",padding:"2px 6px",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},components:{toolbar:({label:t,onNavigate:n,onView:r})=>e.jsxs("div",{className:"flex items-center justify-between mb-4 p-4 bg-card rounded-lg border",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",size:"sm",onClick:()=>n("NEXT"),children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx(J,{variant:"outline",size:"sm",onClick:()=>n("TODAY"),className:"arabic-enhanced",children:"اليوم"}),e.jsx(J,{variant:"outline",size:"sm",onClick:()=>n("PREV"),children:e.jsx(Ke,{className:"w-4 h-4"})})]}),e.jsx("h2",{className:"text-lg font-semibold arabic-enhanced",children:t}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"month"===i?"default":"outline",size:"sm",onClick:()=>r("month"),className:"arabic-enhanced",children:"شهر"}),e.jsx(J,{variant:"week"===i?"default":"outline",size:"sm",onClick:()=>r("week"),className:"arabic-enhanced",children:"أسبوع"}),e.jsx(J,{variant:"day"===i?"default":"outline",size:"sm",onClick:()=>r("day"),className:"arabic-enhanced",children:"يوم"}),e.jsx(J,{variant:"agenda"===i?"default":"outline",size:"sm",onClick:()=>r("agenda"),className:"arabic-enhanced",children:"جدول أعمال"})]})]}),event:({event:t})=>{const n=t.resource,r=n?.patient?.full_name||n?.patient_name||n?.patient_name||"مريض غير معروف",a="مريض محذوف"===r,s=new Date(n?.start_time||t.start).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!1});return e.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center text-center p-1",dir:"rtl",children:[e.jsxs("div",{className:"font-medium text-xs truncate w-full flex items-center justify-center gap-1 "+(a?"opacity-60":""),title:`${r} - ${Sd(n?.status||"scheduled")}`,children:[e.jsx("span",{className:"text-xs",children:(e=>{switch(e){case"completed":return"✓";case"cancelled":return"✗";case"no_show":return"⚠";default:return"●"}})(n?.status||"scheduled")}),e.jsx("span",{className:"truncate",children:r})]}),e.jsx("div",{className:"text-xs opacity-90",title:s,children:s})]})}},step:30,timeslots:2,min:new Date(2024,0,1,8,0),max:new Date(2024,0,1,18,0)})]})})})}),e.jsx(Re,{value:"table",className:"mt-6",children:e.jsx(xd,{appointments:ne,patients:p,isLoading:S,onEdit:e=>{l(e),w(!0)},onDelete:e=>{D(e),x(!0)},onViewPatient:e=>{O(e),E(!0)},onSelectAppointment:e=>{l(e)}})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s&&e.jsxs(me,{children:[e.jsx(ge,{className:"pb-3",children:e.jsx(ye,{className:"text-lg arabic-enhanced",children:"تفاصيل الموعد"})}),e.jsxs(pe,{className:"space-y-3",dir:"rtl",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium mb-1 arabic-enhanced text-sm",children:s.title}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-xs gap-2",children:[e.jsx(le,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{children:Z(s.start_time)})]}),e.jsxs("div",{className:"flex items-center text-xs gap-2",children:[e.jsx(oe,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{className:"arabic-enhanced",children:s.patient?.full_name})]})]})]}),e.jsx("div",{className:"flex flex-col gap-2 ml-3",children:e.jsx($,{className:`${X(s.status)} text-xs`,children:Sd(s.status)})})]}),(s.description||s.treatment||s.cost)&&e.jsxs("div",{className:"grid grid-cols-1 gap-2 pt-2 border-t",children:[s.description&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium arabic-enhanced",children:"الوصف: "}),e.jsx("span",{className:"text-xs text-muted-foreground arabic-enhanced",children:s.description})]}),s.treatment&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium arabic-enhanced",children:"العلاج: "}),e.jsx("span",{className:"text-xs text-muted-foreground arabic-enhanced",children:s.treatment.name})]}),s.cost&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium arabic-enhanced",children:"التكلفة: "}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.cost," $"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(J,{className:"flex-1 arabic-enhanced",size:"sm",onClick:()=>{w(!0)},children:"تعديل"}),e.jsx(J,{variant:"outline",className:"flex-1 arabic-enhanced",size:"sm",disabled:S||"completed"===s?.status,onClick:async()=>{if(s){k(!0);try{await h(s.id,{status:"completed"});const e={...s,status:"completed"};l(e),g({title:"نجح",description:"تم تحديد الموعد كمكتمل",variant:"default"})}catch(e){console.error("Error updating appointment:",e),g({title:"خطأ",description:"حدث خطأ أثناء تحديث الموعد",variant:"destructive"})}finally{k(!1)}}},children:S?"جاري...":"completed"===s?.status?"مكتمل ✓":"مكتمل"})]})]})]}),e.jsxs(me,{children:[e.jsxs(ge,{className:"pb-3",children:[e.jsx(ye,{className:"text-lg arabic-enhanced",children:"جدول اليوم"}),e.jsx(we,{className:"text-sm arabic-enhanced",children:be(new Date)})]}),e.jsx(pe,{dir:"rtl",children:e.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[ne.filter(e=>(new Date).toDateString()===new Date(e.start_time).toDateString()).slice(0,5).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded border cursor-pointer hover:bg-muted/50 gap-2",onClick:()=>l(t),children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium arabic-enhanced truncate",title:t.patient?.full_name||t.patient_name||"مريض غير معروف",children:t.patient?.full_name||t.patient_name||"مريض غير معروف"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:xe(t.start_time)})]}),e.jsx($,{variant:"outline",className:`${X(t.status)} whitespace-nowrap flex-shrink-0 text-xs`,children:Sd(t.status)})]},t.id)),0===t.filter(e=>(new Date).toDateString()===new Date(e.start_time).toDateString()).length&&e.jsx("p",{className:"text-xs text-muted-foreground text-center py-4 arabic-enhanced",children:"لا توجد مواعيد اليوم"})]})})]}),e.jsxs(me,{children:[e.jsxs(ge,{className:"pb-3",children:[e.jsx(ye,{className:"text-lg arabic-enhanced",children:"جدول الغد"}),e.jsx(we,{className:"text-sm arabic-enhanced",children:be(new Date(Date.now()+864e5))})]}),e.jsx(pe,{dir:"rtl",children:e.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[ne.filter(e=>new Date(Date.now()+864e5).toDateString()===new Date(e.start_time).toDateString()).slice(0,5).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded border cursor-pointer hover:bg-muted/50 gap-2",onClick:()=>l(t),children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium arabic-enhanced truncate",title:t.patient?.full_name||t.patient_name||"مريض غير معروف",children:t.patient?.full_name||t.patient_name||"مريض غير معروف"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:xe(t.start_time)})]}),e.jsx($,{variant:"outline",className:`${X(t.status)} whitespace-nowrap flex-shrink-0 text-xs`,children:Sd(t.status)})]},t.id)),0===t.filter(e=>new Date(Date.now()+864e5).toDateString()===new Date(e.start_time).toDateString()).length&&e.jsx("p",{className:"text-xs text-muted-foreground text-center py-4 arabic-enhanced",children:"لا توجد مواعيد غداً"})]})})]})]})]}),e.jsx(_e,{isOpen:y,onClose:()=>{w(!1),T(null)},onSave:async e=>{try{s?(await h(s.id,e),g({title:"نجح",description:"تم تحديث الموعد بنجاح",variant:"default"})):(await m(e),g({title:"نجح",description:"تم إضافة الموعد بنجاح",variant:"default"})),w(!1),l(null),T(null)}catch(t){console.error("❌ Error saving appointment:",t),g({title:"خطأ",description:"حدث خطأ أثناء حفظ الموعد",variant:"destructive"})}},patients:p,treatments:[],selectedDate:j?.date,selectedTime:j?.time,initialData:s}),e.jsx(_d,{isOpen:b,appointment:_&&t.find(e=>e.id===_)||null,patient:_&&p.find(e=>e.id===t.find(e=>e.id===_)?.patient_id)||null,onClose:()=>{x(!1),D(null)},onConfirm:async()=>{if(_){k(!0);try{await f(_),g({title:"نجح",description:"تم حذف الموعد بنجاح",variant:"default"}),x(!1),D(null)}catch(e){console.error("Error deleting appointment:",e),g({title:"خطأ",description:"حدث خطأ أثناء حذف الموعد",variant:"destructive"})}finally{k(!1)}}},isLoading:S}),e.jsx(et,{open:N,patient:M,onOpenChange:e=>{E(e),e||O(null)}})]})}export{kd as default};
