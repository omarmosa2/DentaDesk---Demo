import{j as e}from"./ui-cacc1eea.js";import{r as t}from"./vendor-696af5bd.js";import{aj as a,b as s,c as r,a as n,aG as i,ar as d,e as l,at as o,w as c,C as m,l as h,M as x,B as u,s as g,_ as p,j,k as f}from"./index-3a8dc84c.js";import{T as v,a as w,b,c as N}from"./tabs-952e3ebd.js";import{b as y,a as k,d as T,e as D,s as M,i as P,f as W}from"./utils-ec524415.js";import{U as S}from"./users-5a609aa2.js";import{T as A}from"./trending-up-5cd3f2a0.js";import{R,A as C,b as H,X as $,Y as _,T as K,e as z,L as F,f as X,B as E,d as G,P as I,a as L,C as O}from"./charts-b4389b44.js";import{P as U}from"./pie-chart-ac153dee.js";import"./pdf-991f41f6.js";import"./index-a46c293c.js";
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=a("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),q=a("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),B={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},V={date:y({formats:{full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:y({formats:{full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:y({formats:{full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},J={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},Q={code:"ar",formatDistance:(e,t,a)=>{const s=B[e];let r;return r="string"==typeof s?s:1===t?s.one:2===t?s.two:t<=10?s.threeToTen.replace("{{count}}",String(t)):s.other.replace("{{count}}",String(t)),a?.addSuffix?a.comparison&&a.comparison>0?"خلال "+r:"منذ "+r:r},formatLong:V,formatRelative:e=>J[e],localize:{ordinalNumber:e=>String(e),era:k({values:{narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},defaultWidth:"wide"}),quarter:k({values:{narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:k({values:{narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},defaultWidth:"wide"}),day:k({values:{narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},defaultWidth:"wide"}),dayPeriod:k({values:{narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},defaultWidth:"wide",formattingValues:{narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:T({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:D({matchPatterns:{narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},defaultMatchWidth:"wide",parsePatterns:{any:[/قبل/,/بعد/]},defaultParseWidth:"any"}),quarter:D({matchPatterns:{narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:D({matchPatterns:{narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},defaultParseWidth:"any"}),day:D({matchPatterns:{narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},defaultParseWidth:"any"}),dayPeriod:D({matchPatterns:{narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},defaultMatchWidth:"any",parsePatterns:{any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},defaultParseWidth:"any"})},options:{weekStartsOn:6,firstWeekContainsDate:1}};
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=t.memo(function({onNavigateToPatients:a,onNavigateToAppointments:y,onNavigateToPayments:k,onNavigateToTreatments:T}){const[D,B]=t.useState(null),[V,J]=t.useState(!0),[Z,ee]=t.useState("overview"),[te,ae]=t.useState("30d"),[se,re]=t.useState(null),ne=s(e=>e.patients),ie=r(e=>e.appointments),de=n(e=>e.payments);n(e=>e.totalRevenue),i(e=>e.items),d();const{formatAmount:le,useArabicNumerals:oe}=l();t.useEffect(()=>{ce()},[ne,ie,de,te,le]),t.useEffect(()=>{ce(),re(new Date)},[]);const ce=()=>{J(!0);try{(()=>{const e=[];ne&&0!==ne.length||e.push("لا توجد بيانات مرضى"),ie&&0!==ie.length||e.push("لا توجد بيانات مواعيد"),de&&0!==de.length||e.push("لا توجد بيانات مدفوعات");const t=ne.filter(e=>!e.id||!e.full_name);t.length>0&&e.push(`${t.length} مريض بدون بيانات صحيحة`);const a=ie.filter(e=>!e.id||!e.start_time);a.length>0&&e.push(`${a.length} موعد بدون بيانات صحيحة`);const s=de.filter(e=>!e.id||"number"!=typeof e.amount);return s.length>0&&e.push(`${s.length} دفعة بدون بيانات صحيحة`),e.length>0&&console.warn("⚠️ Data Integrity Issues:",e),0===e.length})()||console.warn("⚠️ Data integrity issues detected. Analytics may not be accurate.");const e=new Date,t=M(e,"7d"===te?7:"30d"===te?30:90),a=ie.filter(a=>P(new Date(a.start_time),{start:t,end:e})),s=de.filter(a=>P(new Date(a.payment_date),{start:t,end:e})).reduce((e,t)=>e+(t.amount||0),0),r={totalPatients:ne.length,totalAppointments:a.length,totalRevenue:s,growthRate:me()},n={patientGrowth:he(t,e),revenueGrowth:xe(t,e),appointmentTrend:ue(t,e)},i={appointmentStatus:ge(a),gender:pe(),ageGroups:je()},d=r.totalPatients>0?r.totalRevenue/r.totalPatients:0,l={patientRetention:fe(),appointmentUtilization:ve(a),averageRevenue:d,noShowRate:we(a)};B({overview:r,trends:n,distributions:i,kpis:l}),re(new Date)}catch(e){console.error("Error calculating analytics:",e)}finally{J(!1)}},me=()=>{const e=M(new Date,30),t=ne.filter(t=>new Date(t.date_added)>=e).length,a=ne.length-t;return 0===a?100:(t-a)/a*100},he=(e,t)=>{const a=[],s=new Date(e);for(;s<=t;){const e=ne.filter(e=>new Date(e.date_added).toDateString()===s.toDateString()).length;a.push({date:W(s,"MM/dd",{locale:Q}),count:e}),s.setDate(s.getDate()+1)}return a},xe=(e,t)=>{const a=[],s=new Date(e);for(;s<=t;){const e=de.filter(e=>new Date(e.payment_date).toDateString()===s.toDateString()).reduce((e,t)=>e+(t.amount||0),0);a.push({date:W(s,"MM/dd",{locale:Q}),amount:e}),s.setDate(s.getDate()+1)}return a},ue=(e,t)=>{const a=[],s=new Date(e);for(;s<=t;){const e=ie.filter(e=>new Date(e.start_time).toDateString()===s.toDateString()).length;a.push({date:W(s,"MM/dd",{locale:Q}),count:e}),s.setDate(s.getDate()+1)}return a},ge=e=>{const t=e.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{}),a={scheduled:"hsl(var(--primary))",completed:"hsl(var(--medical-500))",cancelled:"hsl(var(--destructive))","no-show":"hsl(var(--accent))"},s={scheduled:"مجدول",completed:"مكتمل",cancelled:"ملغي","no-show":"لم يحضر"};return Object.entries(t).map(([e,t])=>({name:s[e]||e,value:t,color:a[e]||"hsl(var(--muted-foreground))"}))},pe=()=>{const e=ne.reduce((e,t)=>{if(!t.gender||"string"!=typeof t.gender)return e;const a="male"===t.gender.toLowerCase()?"ذكر":"female"===t.gender.toLowerCase()?"أنثى":"غير محدد";return e[a]=(e[a]||0)+1,e},{}),t=["hsl(var(--primary))","hsl(var(--medical-500))","hsl(var(--accent))"];return Object.entries(e).map(([e,a],s)=>({name:e,value:a,color:t[s%t.length]}))},je=()=>{const e={"0-18":0,"19-35":0,"36-50":0,"51-65":0,"65+":0};ne.forEach(t=>{const a=t.age||0;a<=18?e["0-18"]++:a<=35?e["19-35"]++:a<=50?e["36-50"]++:a<=65?e["51-65"]++:e["65+"]++});const t=["hsl(var(--primary))","hsl(var(--medical-500))","hsl(var(--dental-500))","hsl(var(--destructive))","hsl(var(--accent))"];return Object.entries(e).map(([e,a],s)=>({name:e,value:a,color:t[s]}))},fe=()=>{const e=M(new Date,90),t=ne.filter(t=>new Date(t.date_added)<e),a=ie.filter(t=>new Date(t.start_time)>=e),s=t.filter(e=>a.some(t=>t.patient_id===e.id));return t.length>0?s.length/t.length*100:0},ve=e=>{const t=e.filter(e=>"completed"===e.status);return e.length>0?t.length/e.length*100:0},we=e=>{const t=e.filter(e=>"no-show"===e.status);return e.length>0?t.length/e.length*100:0};return V||!D?e.jsx("div",{className:"space-y-8 p-6 md:p-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(o,{className:"w-8 h-8 animate-spin text-muted-foreground dark:text-slate-400"})})}):e.jsxs("div",{className:"space-y-8 max-w-[1400px] mx-auto p-6 md:p-8",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground dark:text-slate-200 mb-2",children:"التحليلات والإحصائيات"}),e.jsx("p",{className:"text-muted-foreground dark:text-slate-400 text-lg",children:"تحليل شامل لأداء العيادة والاتجاهات"}),se&&e.jsxs("p",{className:"text-sm text-muted-foreground dark:text-slate-500 mt-1",children:["آخر تحديث: ",W(se,"HH:mm:ss dd/MM/yyyy",{locale:Q})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{variant:"7d"===te?"default":"outline",size:"default",onClick:()=>ae("7d"),"aria-label":"عرض التحليلات لآخر 7 أيام","aria-pressed":"7d"===te,className:"transition-all duration-200 interactive-card px-4 py-2",children:"7 أيام"}),e.jsx(c,{variant:"30d"===te?"default":"outline",size:"default",onClick:()=>ae("30d"),"aria-label":"عرض التحليلات لآخر 30 يوم","aria-pressed":"30d"===te,className:"transition-all duration-200 interactive-card px-4 py-2",children:"30 يوم"}),e.jsx(c,{variant:"90d"===te?"default":"outline",size:"default",onClick:()=>ae("90d"),"aria-label":"عرض التحليلات لآخر 90 يوم","aria-pressed":"90d"===te,className:"transition-all duration-200 interactive-card px-4 py-2",children:"90 يوم"})]}),e.jsxs(c,{variant:"outline",size:"default",onClick:()=>{console.log("🔄 Manual refresh triggered"),ce()},"aria-label":"تحديث التحليلات",className:"transition-all duration-200 interactive-card px-4 py-2",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"تحديث البيانات"]})]})]}),e.jsxs(v,{value:Z,onValueChange:ee,className:"space-y-6",children:[e.jsxs(w,{className:"grid w-full grid-cols-4 p-2",children:[e.jsx(b,{value:"overview",children:"نظرة عامة"}),e.jsx(b,{value:"trends",children:"الاتجاهات"}),e.jsx(b,{value:"distributions",children:"التوزيعات"}),e.jsx(b,{value:"kpis",children:"المؤشرات الرئيسية"})]}),e.jsx(N,{value:"overview",className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsx(m,{className:"cursor-pointer hover:shadow-md dark:hover:shadow-lg transition-all duration-200 bg-card border-border interactive-card",onClick:a,role:"button",tabIndex:0,"aria-label":"عرض إدارة المرضى",children:e.jsxs(h,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"إجمالي المرضى"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:D.overview.totalPatients})]}),e.jsx(S,{className:"w-8 h-8 text-muted-foreground transition-colors"})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[D.overview.growthRate>=0?e.jsx(q,{className:"w-4 h-4 text-green-600 mr-1"}):e.jsx(Y,{className:"w-4 h-4 text-red-600 mr-1"}),e.jsxs("span",{className:"text-sm "+(D.overview.growthRate>=0?"text-green-600":"text-red-600"),children:[Math.abs(D.overview.growthRate).toFixed(1),"%"]}),e.jsx("span",{className:"text-sm text-muted-foreground mr-1",children:"من الشهر الماضي"})]})]})}),e.jsx(m,{className:"cursor-pointer hover:shadow-md dark:hover:shadow-lg transition-all duration-200 bg-card border-border interactive-card",onClick:y,role:"button",tabIndex:0,"aria-label":"عرض إدارة المواعيد",children:e.jsxs(h,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"المواعيد"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:D.overview.totalAppointments})]}),e.jsx(x,{className:"w-8 h-8 text-muted-foreground transition-colors"})]}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsx(u,{variant:"secondary",className:"text-xs",children:"7d"===te?"آخر 7 أيام":"30d"===te?"آخر 30 يوم":"آخر 90 يوم"})})]})}),e.jsx(m,{className:"cursor-pointer hover:shadow-md dark:hover:shadow-lg transition-all duration-200 bg-card border-border interactive-card",onClick:k,role:"button",tabIndex:0,"aria-label":"عرض إدارة المدفوعات",children:e.jsxs(h,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"الإيرادات"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:le(D.overview.totalRevenue)})]}),e.jsx(g,{className:"w-8 h-8 text-muted-foreground transition-colors"})]}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:["متوسط: ",le(D.kpis.averageRevenue)]})})]})}),e.jsx(m,{className:"bg-card border-border transition-all duration-200 hover:shadow-md dark:hover:shadow-lg interactive-card",children:e.jsxs(h,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"معدل الاستفادة"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[D.kpis.appointmentUtilization.toFixed(1),"%"]})]}),e.jsx(p,{className:"w-8 h-8 text-muted-foreground transition-colors"})]}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:"من المواعيد المجدولة"})})]})})]})}),e.jsx(N,{value:"trends",className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(m,{className:"bg-white dark:bg-card border-slate-200 dark:border-slate-700",children:[e.jsx(j,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5"}),"نمو المرضى"]})}),e.jsx(h,{children:e.jsx(R,{width:"100%",height:300,children:e.jsxs(C,{data:D.trends.patientGrowth,children:[e.jsx(H,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"date"}),e.jsx(_,{}),e.jsx(K,{}),e.jsx(z,{type:"monotone",dataKey:"count",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3,isAnimationActive:!1,animationDuration:0})]})})})]}),e.jsxs(m,{className:"bg-white dark:bg-card border-slate-200 dark:border-slate-700",children:[e.jsx(j,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5"}),"نمو الإيرادات"]})}),e.jsx(h,{children:e.jsx(R,{width:"100%",height:300,children:e.jsxs(F,{data:D.trends.revenueGrowth,children:[e.jsx(H,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"date"}),e.jsx(_,{}),e.jsx(K,{formatter:e=>[le(Number(e)),"الإيرادات"]}),e.jsx(X,{type:"monotone",dataKey:"amount",stroke:"hsl(var(--medical-500))",strokeWidth:2,isAnimationActive:!1,animationDuration:0})]})})})]}),e.jsxs(m,{className:"lg:col-span-2 bg-white dark:bg-card border-slate-200 dark:border-slate-700",children:[e.jsx(j,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5"}),"اتجاه المواعيد"]})}),e.jsx(h,{children:e.jsx(R,{width:"100%",height:300,children:e.jsxs(E,{data:D.trends.appointmentTrend,children:[e.jsx(H,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"date"}),e.jsx(_,{}),e.jsx(K,{}),e.jsx(G,{dataKey:"count",fill:"hsl(var(--accent))",isAnimationActive:!1,animationDuration:0})]})})})]})]})}),e.jsx(N,{value:"distributions",className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(m,{className:"bg-white dark:bg-card border-slate-200 dark:border-slate-700",children:[e.jsx(j,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5"}),"حالة المواعيد"]})}),e.jsx(h,{children:e.jsx(R,{width:"100%",height:250,children:e.jsxs(I,{children:[e.jsx(L,{data:D.distributions.appointmentStatus,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",isAnimationActive:!1,animationDuration:0,label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,children:D.distributions.appointmentStatus.map((t,a)=>e.jsx(O,{fill:t.color},`cell-${a}`))}),e.jsx(K,{})]})})})]}),e.jsxs(m,{className:"bg-white dark:bg-card border-slate-200 dark:border-slate-700",children:[e.jsx(j,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"توزيع الجنس"]})}),e.jsx(h,{children:e.jsx(R,{width:"100%",height:250,children:e.jsxs(I,{children:[e.jsx(L,{data:D.distributions.gender,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",isAnimationActive:!1,animationDuration:0,label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,children:D.distributions.gender.map((t,a)=>e.jsx(O,{fill:t.color},`cell-${a}`))}),e.jsx(K,{})]})})})]}),e.jsxs(m,{className:"bg-white dark:bg-card border-slate-200 dark:border-slate-700",children:[e.jsx(j,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"الفئات العمرية"]})}),e.jsx(h,{children:e.jsx(R,{width:"100%",height:250,children:e.jsxs(I,{children:[e.jsx(L,{data:D.distributions.ageGroups,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",isAnimationActive:!1,animationDuration:0,label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,children:D.distributions.ageGroups.map((t,a)=>e.jsx(O,{fill:t.color},`cell-${a}`))}),e.jsx(K,{})]})})})]})]})}),e.jsx(N,{value:"kpis",className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsx(m,{className:"bg-white dark:bg-card border-slate-200 dark:border-slate-700",children:e.jsxs(h,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground dark:text-slate-400",children:"معدل الاحتفاظ بالمرضى"}),e.jsxs("p",{className:"text-3xl font-bold text-medical dark:text-slate-200",children:[D.kpis.patientRetention.toFixed(1),"%"]})]}),e.jsx(S,{className:"w-8 h-8 text-medical dark:text-slate-200"})]}),e.jsx("p",{className:"text-xs text-muted-foreground dark:text-slate-400 mt-2",children:"المرضى النشطين من إجمالي المرضى القدامى"})]})}),e.jsx(m,{className:"bg-white dark:bg-card border-slate-200 dark:border-slate-700",children:e.jsxs(h,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground dark:text-slate-400",children:"معدل استغلال المواعيد"}),e.jsxs("p",{className:"text-3xl font-bold text-primary dark:text-slate-200",children:[D.kpis.appointmentUtilization.toFixed(1),"%"]})]}),e.jsx(x,{className:"w-8 h-8 text-primary dark:text-slate-200"})]}),e.jsx("p",{className:"text-xs text-muted-foreground dark:text-slate-400 mt-2",children:"المواعيد المكتملة من إجمالي المواعيد"})]})}),e.jsx(m,{className:"bg-white dark:bg-card border-slate-200 dark:border-slate-700",children:e.jsxs(h,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground dark:text-slate-400",children:"متوسط الإيرادات لكل مريض"}),e.jsx("p",{className:"text-3xl font-bold text-accent dark:text-slate-200",children:le(D.kpis.averageRevenue)})]}),e.jsx(g,{className:"w-8 h-8 text-accent dark:text-slate-200"})]}),e.jsx("p",{className:"text-xs text-muted-foreground dark:text-slate-400 mt-2",children:"إجمالي الإيرادات ÷ عدد المرضى"})]})}),e.jsx(m,{className:"bg-white dark:bg-card border-slate-200 dark:border-slate-700",children:e.jsxs(h,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground dark:text-slate-400",children:"معدل عدم الحضور"}),e.jsxs("p",{className:"text-3xl font-bold text-destructive dark:text-slate-200",children:[D.kpis.noShowRate.toFixed(1),"%"]})]}),e.jsx(p,{className:"w-8 h-8 text-destructive dark:text-slate-200"})]}),e.jsx("p",{className:"text-xs text-muted-foreground dark:text-slate-400 mt-2",children:"المواعيد التي لم يحضر إليها المرضى"})]})})]})})]})]})},(e,t)=>!0);export{Z as default};
